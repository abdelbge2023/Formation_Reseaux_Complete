<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formation R√©seaux Compl√®te - Simulateur Int√©gr√©</title>
    <style>
        :root {
            --beginner: #4CAF50;
            --intermediate: #2196F3;
            --advanced: #FF9800;
            --expert: #F44336;
            --security: #9C27B0;
            --dark: #263238;
            --light: #F5F5F5;
            --border: #BDBDBD;
            --success: #388E3C;
            --warning: #FFA000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--beginner) 0%, var(--expert) 100%);
            color: white;
            padding: 2rem;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .progress-container {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--beginner), var(--expert));
            width: 0%;
            transition: width 1s ease;
        }

        .level-indicator {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        .level-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 0.2rem;
            color: white;
        }

        .beginner { background: var(--beginner); }
        .intermediate { background: var(--intermediate); }
        .advanced { background: var(--advanced); }
        .expert { background: var(--expert); }
        .security { background: var(--security); }

        .nav-tabs {
            display: flex;
            background: white;
            border-radius: 12px;
            padding: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-tab {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: var(--light);
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: var(--beginner);
            color: white;
        }

        .tab-content {
            display: none;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease-in;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styles pour les sch√©mas r√©seau */
        .network-schema {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border: 2px solid var(--intermediate);
            position: relative;
            overflow: hidden;
        }

        .schema-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .schema-layer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            border-left: 4px solid var(--intermediate);
        }

        .layer-number {
            background: var(--intermediate);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .layer-info {
            flex: 1;
            margin: 0 1rem;
        }

        .layer-name {
            font-weight: bold;
            color: var(--intermediate);
            margin-bottom: 0.5rem;
        }

        .layer-protocols {
            font-size: 0.9rem;
            color: #666;
        }

        .layer-data {
            background: white;
            padding: 0.8rem;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            min-width: 200px;
        }

        .encapsulation-flow {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .flow-arrow {
            font-size: 2rem;
            color: var(--intermediate);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .datagram-visual {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin: 2rem 0;
            border: 2px solid var(--intermediate);
            border-radius: 10px;
            overflow: hidden;
        }

        .datagram-header {
            background: var(--intermediate);
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: bold;
        }

        .datagram-segment {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }

        .segment-label {
            background: var(--warning);
            color: white;
            padding: 0.8rem;
            min-width: 120px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .segment-data {
            flex: 1;
            padding: 0.8rem;
            font-family: 'Courier New', monospace;
            background: white;
            display: flex;
            align-items: center;
        }

        .protocol-stack {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .stack-side {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border: 2px solid var(--intermediate);
        }

        .stack-title {
            text-align: center;
            font-weight: bold;
            color: var(--intermediate);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--intermediate);
        }

        .communication-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            padding: 2rem;
            background: linear-gradient(135deg, #E1F5FE, #B3E5FC);
            border-radius: 10px;
            position: relative;
        }

        .device {
            text-align: center;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 2px solid var(--success);
            min-width: 150px;
        }

        .device-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .flow-arrows {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .arrow {
            font-size: 1.5rem;
            color: var(--success);
        }

        .arrow-label {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        /* Styles du simulateur int√©gr√© */
        .simulator-container {
            display: grid;
            grid-template-columns: 250px 1fr 300px;
            gap: 20px;
            height: 70vh;
            margin-bottom: 2rem;
        }

        .device-palette {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            border: 2px solid #e9ecef;
            overflow-y: auto;
        }

        .device-category {
            margin-bottom: 1.5rem;
        }

        .device-category h4 {
            margin-bottom: 0.5rem;
            color: #333;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 0.5rem;
        }

        .device-item {
            background: white;
            padding: 10px;
            margin: 5px 0;
            border: 2px dashed #ccc;
            border-radius: 8px;
            cursor: grab;
            text-align: center;
            transition: all 0.3s ease;
        }

        .device-item:hover {
            background: #e3f2fd;
            border-color: #2196F3;
            transform: translateY(-2px);
        }

        .workspace {
            background: white;
            border: 2px dashed #ccc;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .workspace-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #666;
            text-align: center;
        }

        .config-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            border: 2px solid #e9ecef;
            overflow-y: auto;
        }

        .network-node {
            position: absolute;
            width: 100px;
            height: 100px;
            background: white;
            border: 3px solid;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: move;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 10;
            user-select: none;
        }

        .network-node.router {
            border-color: #f44336;
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
        }

        .network-node.switch {
            border-color: #ff9800;
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
        }

        .network-node.pc {
            border-color: #4caf50;
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9);
        }

        .network-node.server {
            border-color: #9c27b0;
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
        }

        .connection-port {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #4caf50;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            z-index: 15;
        }

        .connection-port:hover {
            background: #45a049;
            transform: scale(1.2);
        }

        .cable {
            position: absolute;
            background: #666;
            height: 3px;
            transform-origin: 0 0;
            z-index: 5;
            pointer-events: none;
        }

        .toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary { background: #2196F3; color: white; }
        .btn-success { background: #4CAF50; color: white; }
        .btn-warning { background: #FF9800; color: white; }
        .btn-danger { background: #f44336; color: white; }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-group input:focus, .form-group select:focus {
            border-color: #2196F3;
            outline: none;
        }

        .interface-list {
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 1rem;
        }

        .interface-item {
            padding: 8px 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .interface-item:hover {
            background: #f5f5f5;
        }

        .interface-item.active {
            background: #2196F3;
            color: white;
        }

        .simulation-output {
            background: #1a1a1a;
            color: #00ff00;
            padding: 1rem;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 1rem;
            display: none;
        }

        .topology-preview {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .preview-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border: 2px solid #e9ecef;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preview-item:hover {
            border-color: #2196F3;
            transform: translateY(-2px);
        }

        /* Styles pour les autres sections */
        .concept-card {
            background: var(--light);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--beginner);
        }

        .detailed-explanation {
            background: linear-gradient(135deg, #E1F5FE 0%, #B3E5FC 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--intermediate);
        }

        .step-by-step {
            background: linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--advanced);
        }

        .exercise {
            background: linear-gradient(135deg, #E8F5E8 0%, #C8E6C9 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--success);
        }

        .practice-lab {
            background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--warning);
        }

        .critical-case {
            background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--expert);
        }

        .security-note {
            background: linear-gradient(135deg, #F3E5F5 0%, #E1BEE7 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--security);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .input-group label {
            font-weight: 600;
            color: var(--dark);
        }

        .input-group input, .input-group select, .input-group textarea {
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn-beginner { background: var(--beginner); color: white; }
        .btn-intermediate { background: var(--intermediate); color: white; }
        .btn-advanced { background: var(--advanced); color: white; }
        .btn-expert { background: var(--expert); color: white; }
        .btn-security { background: var(--security); color: white; }

        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .config-code {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .config-comment { color: #6A9955; }
        .config-keyword { color: #569CD6; }
        .config-string { color: #CE9178; }
        .config-number { color: #B5CEA8; }

        .table-responsive {
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--light);
            font-weight: 600;
            color: var(--dark);
        }

        .solution {
            background: #E8F5E8;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid var(--success);
            display: none;
        }

        .binary-visual {
            display: flex;
            flex-wrap: wrap;
            gap: 2px;
            margin: 1rem 0;
            justify-content: center;
            background: #f0f0f0;
            padding: 1rem;
            border-radius: 8px;
        }

        .bit {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.8rem;
            background: #e0e0e0;
            position: relative;
        }

        .bit.network { background: var(--beginner); color: white; }
        .bit.subnet { background: var(--intermediate); color: white; }
        .bit.host { background: var(--advanced); color: white; }
        .bit.one { background: #4CAF50; color: white; }
        .bit.zero { background: #e0e0e0; color: #666; }

        .octet-separator {
            width: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #666;
        }

        .quiz-option {
            padding: 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            margin: 0.5rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            background: var(--light);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: #E8F5E8;
        }

        .quiz-option.incorrect {
            border-color: var(--expert);
            background: #FFEBEE;
        }

        .hint {
            background: #FFF3E0;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid var(--warning);
            font-style: italic;
            display: none;
        }

        .calculation-steps {
            background: #E3F2FD;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .step {
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            border-left: 4px solid var(--intermediate);
        }

        .subnet-visualization {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 2px solid var(--border);
        }

        .subnet-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .subnet-item {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--intermediate);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .glossary {
            background: #E1F5FE;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
        }

        .glossary-term {
            font-weight: bold;
            color: var(--dark);
            margin-top: 1rem;
        }

        .glossary-definition {
            margin-left: 1rem;
            color: #555;
        }

        .resource-links {
            background: #E8F5E8;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--success);
        }

        .resource-links ul {
            padding-left: 1.5rem;
        }

        .resource-links li {
            margin-bottom: 0.5rem;
        }

        .resource-links a {
            color: var(--success);
            text-decoration: none;
            font-weight: 500;
        }

        .resource-links a:hover {
            text-decoration: underline;
        }

        .real-world-example {
            background: #FFF3E0;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--warning);
        }

        .troubleshooting-scenario {
            background: #FFEBEE;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--expert);
        }

        .troubleshooting-scenario h4 {
            color: var(--expert);
        }

        .advanced-topic {
            background: #F3E5F5;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--security);
        }

        .advanced-topic h4 {
            color: var(--security);
        }

        .protocol-analysis {
            background: #E1F5FE;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--intermediate);
        }

        /* Styles pour la documentation du simulateur */
        .simulator-doc {
            background: linear-gradient(135deg, #E1F5FE 0%, #B3E5FC 100%);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
            border-left: 4px solid var(--intermediate);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .feature-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid var(--intermediate);
        }

        .feature-card h4 {
            color: var(--intermediate);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .step-guide {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid var(--success);
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background: var(--success);
            color: white;
            border-radius: 50%;
            font-weight: bold;
            margin-right: 10px;
        }

        /* Styles pour la section OSI/TCP-IP */
        .encapsulation-visual {
            border: 2px solid var(--intermediate);
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .encapsulation-layer {
            padding: 1rem;
            border-bottom: 1px solid #ddd;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }

        .encapsulation-layer:last-child {
            border-bottom: none;
        }

        .layer-header {
            font-weight: bold;
            color: var(--intermediate);
            margin-bottom: 0.5rem;
        }

        .layer-data {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 0.5rem;
            border-radius: 5px;
            border-left: 3px solid var(--success);
        }

        @media (max-width: 768px) {
            .container { padding: 10px; }
            header h1 { font-size: 2rem; }
            .nav-tabs { flex-direction: column; }
            .form-grid { grid-template-columns: 1fr; }
            .button-group { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
            .bit { width: 30px; height: 30px; font-size: 0.7rem; }
            .subnet-grid { grid-template-columns: 1fr; }
            .feature-grid { grid-template-columns: 1fr; }
            .simulator-container { 
                grid-template-columns: 1fr; 
                height: auto;
            }
            .device-palette, .config-panel {
                height: 300px;
            }
            .protocol-stack {
                grid-template-columns: 1fr;
            }
            .communication-flow {
                flex-direction: column;
                gap: 2rem;
            }
            .schema-layer {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéì Formation R√©seaux Compl√®te avec Simulateur</h1>
            <p class="subtitle">Apprenez, Pratiquez et Simulez vos R√©seaux en Temps R√©el</p>
            
            <div class="progress-container">
                <h3>Votre Progression d'Apprentissage</h3>
                <div class="progress-bar">
                    <div class="progress" id="learningProgress"></div>
                </div>
                <div class="level-indicator">
                    <span>D√©butant</span>
                    <span>Interm√©diaire</span>
                    <span>Avanc√©</span>
                    <span>Expert</span>
                </div>
            </div>
        </header>

        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('simulator')">
                üî¨ Simulateur
            </button>
            <button class="nav-tab" onclick="showTab('fundamentals')">
                üéØ Fondamentaux
            </button>
            <button class="nav-tab" onclick="showTab('osi-tcpip')">
                üåê OSI/TCP-IP
            </button>
            <button class="nav-tab" onclick="showTab('subnetting')">
                üîß Subnetting
            </button>
            <button class="nav-tab" onclick="showTab('routing')">
                üö¶ Routage
            </button>
            <button class="nav-tab" onclick="showTab('security')">
                üõ°Ô∏è S√©curit√©
            </button>
            <button class="nav-tab" onclick="showTab('practice')">
                üíª Pratique
            </button>
            <button class="nav-tab" onclick="showTab('glossary')">
                üìö Lexique
            </button>
            <button class="nav-tab" onclick="showTab('resources')">
                üîó Ressources
            </button>
        </nav>

        <!-- Section Simulateur -->
        <section id="simulator" class="tab-content active">
            <h2>üî¨ Simulateur de R√©seau Interactif</h2>
            <span class="level-badge intermediate">Pratique</span>

            <div class="toolbar">
                <button class="btn btn-primary" onclick="clearWorkspace()">üóëÔ∏è Effacer</button>
                <button class="btn btn-success" onclick="saveTopology()">üíæ Sauvegarder</button>
                <button class="btn btn-warning" onclick="loadTopology()">üìÇ Charger</button>
                <button class="btn btn-primary" onclick="autoConnect()">üîó Connexion Auto</button>
                <button class="btn btn-success" onclick="testConnectivity()">üß™ Tester</button>
                <button class="btn btn-danger" onclick="simulateNetwork()">üöÄ Simuler</button>
            </div>

            <div class="simulator-container">
                <!-- Palette d'√©quipements -->
                <div class="device-palette">
                    <div class="device-category">
                        <h4>üñ•Ô∏è Postes de Travail</h4>
                        <div class="device-item" draggable="true" data-type="pc" data-ports="1">
                            üíª PC Standard
                        </div>
                        <div class="device-item" draggable="true" data-type="pc" data-ports="1">
                            üíª PC Portable
                        </div>
                    </div>

                    <div class="device-category">
                        <h4>üîå √âquipements R√©seau</h4>
                        <div class="device-item" draggable="true" data-type="switch" data-ports="8">
                            üñß Switch 8 ports
                        </div>
                        <div class="device-item" draggable="true" data-type="switch" data-ports="24">
                            üñß Switch 24 ports
                        </div>
                        <div class="device-item" draggable="true" data-type="router" data-ports="4">
                            üö¶ Routeur
                        </div>
                    </div>

                    <div class="device-category">
                        <h4>üñ•Ô∏è Serveurs</h4>
                        <div class="device-item" draggable="true" data-type="server" data-ports="2">
                            üåê Serveur Web
                        </div>
                        <div class="device-item" draggable="true" data-type="server" data-ports="2">
                            üíæ Serveur Fichiers
                        </div>
                    </div>
                </div>

                <!-- Zone de travail -->
                <div class="workspace" id="workspace" ondrop="drop(event)" ondragover="allowDrop(event)">
                    <div class="workspace-placeholder">
                        <h3>üèóÔ∏è Zone de Construction</h3>
                        <p>Glissez-d√©posez des √©quipements ici</p>
                    </div>
                </div>

                <!-- Panneau de configuration -->
                <div class="config-panel">
                    <h4>‚öôÔ∏è Configuration</h4>
                    <div id="config-content">
                        <p>S√©lectionnez un √©quipement pour le configurer</p>
                    </div>
                </div>
            </div>

            <div class="simulation-output" id="simulationOutput"></div>

            <!-- Topologies pr√©d√©finies -->
            <div style="margin-top: 2rem;">
                <h4>üìã Topologies Pr√©d√©finies</h4>
                <div class="topology-preview">
                    <div class="preview-item" onclick="loadSimpleTopology()">
                        <h5>üè† R√©seau Simple</h5>
                        <p>Routeur + Switch + 2 PCs</p>
                    </div>
                    <div class="preview-item" onclick="loadOfficeTopology()">
                        <h5>üè¢ Bureau</h5>
                        <p>R√©seau d'entreprise basique</p>
                    </div>
                    <div class="preview-item" onclick="loadDatacenterTopology()">
                        <h5>üè≠ Datacenter</h5>
                        <p>R√©seau serveurs avanc√©</p>
                    </div>
                </div>
            </div>

            <!-- Documentation du simulateur -->
            <div class="simulator-doc">
                <h3>üìñ Guide d'Utilisation du Simulateur</h3>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üèóÔ∏è Construction de Topologie</h4>
                        <p>Glissez-d√©posez des √©quipements depuis la palette vers la zone de travail pour cr√©er votre r√©seau.</p>
                        <ul>
                            <li><strong>Postes de travail:</strong> PC Standard et PC Portable</li>
                            <li><strong>√âquipements r√©seau:</strong> Switch 8/24 ports et Routeur</li>
                            <li><strong>Serveurs:</strong> Serveur Web et Serveur Fichiers</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üîó Connexion des √âquipements</h4>
                        <p>Cliquez sur les ports de connexion pour √©tablir des liaisons entre les √©quipements.</p>
                        <ul>
                            <li>Cliquez sur un premier port pour d√©marrer une connexion</li>
                            <li>Cliquez sur un second port pour terminer la connexion</li>
                            <li>Utilisez √âchap pour annuler une connexion en cours</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>‚öôÔ∏è Configuration des √âquipements</h4>
                        <p>S√©lectionnez un √©quipement pour acc√©der √† son panneau de configuration.</p>
                        <ul>
                            <li>Nom d'h√¥te et adresse IP</li>
                            <li>Masque de sous-r√©seau et passerelle</li>
                            <li>Configuration individuelle des interfaces</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step-guide">
                <h3>üìã Guide Pas √† Pas</h3>
                
                <div class="step">
                    <h4><span class="step-number">1</span> Cr√©ation d'une Topologie Simple</h4>
                    <p>Commencez par cr√©er un r√©seau de base avec un routeur, un switch et deux PC :</p>
                    <ol>
                        <li>Glissez un routeur depuis la palette vers la zone de travail</li>
                        <li>Ajoutez un switch 8 ports</li>
                        <li>Ajoutez deux PC</li>
                        <li>Utilisez la fonction "Connexion Auto" pour connecter automatiquement les √©quipements</li>
                    </ol>
                </div>
                
                <div class="step">
                    <h4><span class="step-number">2</span> Configuration des Adresses IP</h4>
                    <p>Configurez les adresses IP pour permettre la communication :</p>
                    <ol>
                        <li>S√©lectionnez le routeur et configurez l'adresse IP (ex: 192.168.1.1)</li>
                        <li>Configurez les PC avec des adresses dans le m√™me r√©seau (ex: 192.168.1.10 et 192.168.1.20)</li>
                        <li>D√©finissez la passerelle par d√©faut sur les PC (192.168.1.1)</li>
                    </ol>
                </div>
                
                <div class="step">
                    <h4><span class="step-number">3</span> Test de Connectivit√©</h4>
                    <p>V√©rifiez que votre r√©seau fonctionne correctement :</p>
                    <ol>
                        <li>Utilisez le bouton "Tester" pour v√©rifier la connectivit√© de base</li>
                        <li>Lancez une simulation compl√®te avec le bouton "Simuler"</li>
                        <li>Analysez les r√©sultats dans la console de sortie</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Section OSI/TCP-IP -->
        <section id="osi-tcpip" class="tab-content">
            <h2>üåê Mod√®les OSI et TCP/IP - Fondements des R√©seaux</h2>
            <span class="level-badge intermediate">Interm√©diaire</span>

            <!-- Sch√©ma de circulation de l'information -->
            <div class="network-schema">
                <h3>üìä Sch√©ma de Circulation de l'Information sur Internet</h3>
                
                <div class="communication-flow">
                    <div class="device">
                        <div class="device-icon">üíª</div>
                        <div>Client</div>
                        <div>192.168.1.100</div>
                    </div>
                    
                    <div class="flow-arrows">
                        <div class="arrow">‚¨ÖÔ∏è</div>
                        <div class="arrow-label">Requ√™te HTTP</div>
                        <div class="arrow">‚û°Ô∏è</div>
                        <div class="arrow-label">R√©ponse HTTP</div>
                    </div>
                    
                    <div class="device">
                        <div class="device-icon">üåê</div>
                        <div>Internet</div>
                        <div>Routeurs</div>
                    </div>
                    
                    <div class="flow-arrows">
                        <div class="arrow">‚¨ÖÔ∏è</div>
                        <div class="arrow-label">Paquets IP</div>
                        <div class="arrow">‚û°Ô∏è</div>
                        <div class="arrow-label">Paquets IP</div>
                    </div>
                    
                    <div class="device">
                        <div class="device-icon">üñ•Ô∏è</div>
                        <div>Serveur Web</div>
                        <div>93.184.216.34</div>
                    </div>
                </div>
            </div>

            <!-- Sch√©ma d'encapsulation -->
            <div class="network-schema">
                <h3>üì¶ Processus d'Encapsulation des Donn√©es</h3>
                
                <div class="encapsulation-flow">
                    <div class="schema-layer">
                        <div class="layer-number">7</div>
                        <div class="layer-info">
                            <div class="layer-name">Application</div>
                            <div class="layer-protocols">HTTP, FTP, SMTP, DNS</div>
                        </div>
                        <div class="layer-data">Donn√©es utilisateur</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨áÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">4</div>
                        <div class="layer-info">
                            <div class="layer-name">Transport</div>
                            <div class="layer-protocols">TCP, UDP</div>
                        </div>
                        <div class="layer-data">[TCP Header] + Donn√©es</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨áÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">3</div>
                        <div class="layer-info">
                            <div class="layer-name">R√©seau</div>
                            <div class="layer-protocols">IP, ICMP</div>
                        </div>
                        <div class="layer-data">[IP Header] + [TCP] + Donn√©es</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨áÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">2</div>
                        <div class="layer-info">
                            <div class="layer-name">Liaison</div>
                            <div class="layer-protocols">Ethernet, PPP</div>
                        </div>
                        <div class="layer-data">[MAC] + [IP] + [TCP] + Donn√©es + [FCS]</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨áÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">1</div>
                        <div class="layer-info">
                            <div class="layer-name">Physique</div>
                            <div class="layer-protocols">Bits, Signaux</div>
                        </div>
                        <div class="layer-data">1010100110101101...</div>
                    </div>
                </div>
            </div>

            <!-- Datagramme IP d√©taill√© -->
            <div class="network-schema">
                <h3>üîç Structure d'un Datagramme IP</h3>
                
                <div class="datagram-visual">
                    <div class="datagram-header">Datagramme IPv4 - 20 √† 60 octets</div>
                    
                    <div class="datagram-segment">
                        <div class="segment-label">En-t√™te IP</div>
                        <div class="segment-data">
                            Version: 4 | IHL: 5 | TOS: 0 | Longueur: 60 | Ident: 12345<br>
                            Flags: 0 | Fragment Offset: 0 | TTL: 64 | Protocol: TCP (6)<br>
                            Checksum: 0x7a69 | Source: 192.168.1.100 | Dest: 93.184.216.34
                        </div>
                    </div>
                    
                    <div class="datagram-segment">
                        <div class="segment-label">En-t√™te TCP</div>
                        <div class="segment-data">
                            Port Source: 54321 | Port Dest: 80 | Seq: 123456789<br>
                            Ack: 0 | Data Offset: 5 | Flags: SYN | Window: 65535<br>
                            Checksum: 0xabcd | Urgent Pointer: 0
                        </div>
                    </div>
                    
                    <div class="datagram-segment">
                        <div class="segment-label">Donn√©es</div>
                        <div class="segment-data">
                            GET /index.html HTTP/1.1\r\nHost: example.com\r\n\r\n
                        </div>
                    </div>
                </div>
            </div>

            <!-- Comparaison OSI vs TCP/IP -->
            <div class="protocol-stack">
                <div class="stack-side">
                    <div class="stack-title">Mod√®le OSI (7 couches)</div>
                    <div class="schema-container">
                        <div class="schema-layer" style="background: #E1F5FE;">
                            <div class="layer-number">7</div>
                            <div class="layer-info">
                                <div class="layer-name">Application</div>
                                <div class="layer-protocols">HTTP, SMTP, FTP, DNS</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #E8F5E8;">
                            <div class="layer-number">6</div>
                            <div class="layer-info">
                                <div class="layer-name">Pr√©sentation</div>
                                <div class="layer-protocols">SSL/TLS, JPEG, MPEG</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #FFF3E0;">
                            <div class="layer-number">5</div>
                            <div class="layer-info">
                                <div class="layer-name">Session</div>
                                <div class="layer-protocols">NetBIOS, RPC</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #F3E5F5;">
                            <div class="layer-number">4</div>
                            <div class="layer-info">
                                <div class="layer-name">Transport</div>
                                <div class="layer-protocols">TCP, UDP</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #FFEBEE;">
                            <div class="layer-number">3</div>
                            <div class="layer-info">
                                <div class="layer-name">R√©seau</div>
                                <div class="layer-protocols">IP, ICMP, OSPF</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #E8EAF6;">
                            <div class="layer-number">2</div>
                            <div class="layer-info">
                                <div class="layer-name">Liaison</div>
                                <div class="layer-protocols">Ethernet, PPP, VLAN</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #E0F2F1;">
                            <div class="layer-number">1</div>
                            <div class="layer-info">
                                <div class="layer-name">Physique</div>
                                <div class="layer-protocols">RJ45, Wi-Fi, Fibre</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="stack-side">
                    <div class="stack-title">Mod√®le TCP/IP (4 couches)</div>
                    <div class="schema-container">
                        <div class="schema-layer" style="background: #E1F5FE; height: 120px;">
                            <div class="layer-info">
                                <div class="layer-name">Application</div>
                                <div class="layer-protocols">HTTP, SMTP, FTP, DNS, SSH</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #F3E5F5; height: 80px;">
                            <div class="layer-info">
                                <div class="layer-name">Transport</div>
                                <div class="layer-protocols">TCP, UDP, SCTP</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #FFEBEE; height: 80px;">
                            <div class="layer-info">
                                <div class="layer-name">Internet</div>
                                <div class="layer-protocols">IP, ICMP, ARP, BGP</div>
                            </div>
                        </div>
                        <div class="schema-layer" style="background: #E0F2F1; height: 80px;">
                            <div class="layer-info">
                                <div class="layer-name">Acc√®s R√©seau</div>
                                <div class="layer-protocols">Ethernet, Wi-Fi, PPP</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Processus de d√©capsulation -->
            <div class="network-schema">
                <h3>üîÑ Processus de D√©capsulation des Donn√©es</h3>
                
                <div class="encapsulation-flow">
                    <div class="schema-layer">
                        <div class="layer-number">1</div>
                        <div class="layer-info">
                            <div class="layer-name">Physique</div>
                            <div class="layer-protocols">R√©ception des bits</div>
                        </div>
                        <div class="layer-data">1010100110101101...</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨ÜÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">2</div>
                        <div class="layer-info">
                            <div class="layer-name">Liaison</div>
                            <div class="layer-protocols">V√©rification CRC</div>
                        </div>
                        <div class="layer-data">[MAC] + [IP] + [TCP] + Donn√©es</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨ÜÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">3</div>
                        <div class="layer-info">
                            <div class="layer-name">R√©seau</div>
                            <div class="layer-protocols">V√©rification IP</div>
                        </div>
                        <div class="layer-data">[IP Header] + [TCP] + Donn√©es</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨ÜÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">4</div>
                        <div class="layer-info">
                            <div class="layer-name">Transport</div>
                            <div class="layer-protocols">R√©assemblage TCP</div>
                        </div>
                        <div class="layer-data">[TCP Header] + Donn√©es</div>
                    </div>
                    
                    <div class="flow-arrow">‚¨ÜÔ∏è</div>
                    
                    <div class="schema-layer">
                        <div class="layer-number">7</div>
                        <div class="layer-info">
                            <div class="layer-name">Application</div>
                            <div class="layer-protocols">Traitement des donn√©es</div>
                        </div>
                        <div class="layer-data">Donn√©es utilisateur</div>
                    </div>
                </div>
            </div>

            <!-- Exemple concret de communication -->
            <div class="practice-lab">
                <h3>üî¨ Exemple: Communication Client-Serveur Web</h3>
                
                <div class="step-by-step">
                    <h4>üìã √âtapes de la Communication HTTP</h4>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>1. R√©solution DNS</strong>
                            <p>Client ‚Üí Serveur DNS: "Quelle est l'IP de example.com?"</p>
                            <p>Serveur DNS ‚Üí Client: "93.184.216.34"</p>
                        </div>
                        
                        <div class="step">
                            <strong>2. √âtablissement TCP</strong>
                            <p>Client ‚Üí Serveur: SYN (Synchronize)</p>
                            <p>Serveur ‚Üí Client: SYN-ACK (Synchronize-Acknowledge)</p>
                            <p>Client ‚Üí Serveur: ACK (Acknowledge)</p>
                        </div>
                        
                        <div class="step">
                            <strong>3. Requ√™te HTTP</strong>
                            <p>Client ‚Üí Serveur: GET /index.html HTTP/1.1</p>
                            <p>Headers: Host, User-Agent, Accept</p>
                        </div>
                        
                        <div class="step">
                            <strong>4. R√©ponse HTTP</strong>
                            <p>Serveur ‚Üí Client: HTTP/1.1 200 OK</p>
                            <p>Headers: Content-Type, Content-Length</p>
                            <p>Body: Contenu HTML de la page</p>
                        </div>
                        
                        <div class="step">
                            <strong>5. Fermeture TCP</strong>
                            <p>Client ‚Üí Serveur: FIN (Finish)</p>
                            <p>Serveur ‚Üí Client: FIN-ACK</p>
                            <p>Client ‚Üí Serveur: ACK</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contenu existant de la section OSI/TCP-IP -->
            <div class="concept-card">
                <h3>üìä Comparaison des Mod√®les OSI vs TCP/IP</h3>
                
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>Mod√®le OSI (7 couches)</th>
                            <th>Mod√®le TCP/IP (4 couches)</th>
                            <th>Fonctions Principales</th>
                            <th>Exemples de Protocoles</th>
                        </tr>
                        <tr>
                            <td><strong>7. Application</strong></td>
                            <td rowspan="3"><strong>Application</strong></td>
                            <td>Interface utilisateur, services r√©seau</td>
                            <td>HTTP, HTTPS, FTP, SMTP, DNS, SSH</td>
                        </tr>
                        <tr>
                            <td><strong>6. Pr√©sentation</strong></td>
                            <td>Chiffrement, compression, formatage</td>
                            <td>SSL/TLS, JPEG, MPEG, ASCII</td>
                        </tr>
                        <tr>
                            <td><strong>5. Session</strong></td>
                            <td>Gestion des sessions, synchronisation</td>
                            <td>NetBIOS, RPC, SIP</td>
                        </tr>
                        <tr>
                            <td><strong>4. Transport</strong></td>
                            <td><strong>Transport</strong></td>
                            <td>Fiabilit√©, contr√¥le de flux, multiplexage</td>
                            <td>TCP, UDP, SCTP</td>
                        </tr>
                        <tr>
                            <td><strong>3. R√©seau</strong></td>
                            <td><strong>Internet</strong></td>
                            <td>Adressage logique, routage, fragmentation</td>
                            <td>IP, ICMP, ARP, OSPF, BGP</td>
                        </tr>
                        <tr>
                            <td><strong>2. Liaison</strong></td>
                            <td rowspan="2"><strong>Acc√®s R√©seau</strong></td>
                            <td>Adressage physique, contr√¥le d'acc√®s</td>
                            <td>Ethernet, PPP, VLAN, MAC</td>
                        </tr>
                        <tr>
                            <td><strong>1. Physique</strong></td>
                            <td>Signaux √©lectriques, c√¢blage, connecteurs</td>
                            <td>RJ45, Fibre optique, Wi-Fi, C√¢ble coaxial</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="detailed-explanation">
                <h3>üîç D√©tail du Parcours d'une Donn√©e</h3>
                
                <div class="step-by-step">
                    <h4>üì® Exemple: Envoi d'une Page Web (HTTP over TCP/IP)</h4>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>√âtape 1: Couche Application (HTTP)</strong>
                            <div class="config-code">
                                <span class="config-comment">// Requ√™te HTTP du navigateur</span><br>
                                <span class="config-keyword">GET</span> /index.html <span class="config-keyword">HTTP/1.1</span><br>
                                <span class="config-keyword">Host:</span> www.example.com<br>
                                <span class="config-keyword">User-Agent:</span> Mozilla/5.0<br>
                                <span class="config-keyword">Accept:</span> text/html<br>
                            </div>
                            <p><strong>S√©curit√©:</strong> HTTPS ajoute TLS √† cette couche</p>
                        </div>

                        <div class="step">
                            <strong>√âtape 2: Couche Transport (TCP)</strong>
                            <div class="config-code">
                                <span class="config-comment">// Encapsulation TCP</span><br>
                                <span class="config-keyword">Port Source:</span> 54321 (√©ph√©m√®re)<br>
                                <span class="config-keyword">Port Destination:</span> 80 (HTTP)<br>
                                <span class="config-keyword">Sequence Number:</span> 123456789<br>
                                <span class="config-keyword">Ack Number:</span> 0<br>
                                <span class="config-keyword">Flags:</span> SYN<br>
                                <span class="config-keyword">Window Size:</span> 65535<br>
                            </div>
                            <p><strong>√âtablissement TCP 3-way handshake:</strong> SYN ‚Üí SYN-ACK ‚Üí ACK</p>
                        </div>

                        <div class="step">
                            <strong>√âtape 3: Couche R√©seau (IP)</strong>
                            <div class="config-code">
                                <span class="config-comment">// En-t√™te IP</span><br>
                                <span class="config-keyword">Version:</span> 4<br>
                                <span class="config-keyword">Source IP:</span> 192.168.1.100<br>
                                <span class="config-keyword">Destination IP:</span> 93.184.216.34<br>
                                <span class="config-keyword">TTL:</span> 64<br>
                                <span class="config-keyword">Protocol:</span> TCP (6)<br>
                                <span class="config-keyword">Header Checksum:</span> 0x7a69<br>
                            </div>
                            <p><strong>Routage:</strong> Table de routage ‚Üí Passerelle ‚Üí Internet</p>
                        </div>

                        <div class="step">
                            <strong>√âtape 4: Couche Liaison (Ethernet)</strong>
                            <div class="config-code">
                                <span class="config-comment">// Trame Ethernet</span><br>
                                <span class="config-keyword">Destination MAC:</span> 00:1A:2B:3C:4D:5E (Routeur)<br>
                                <span class="config-keyword">Source MAC:</span> 08:00:27:AB:CD:EF (PC)<br>
                                <span class="config-keyword">Type:</span> 0x0800 (IPv4)<br>
                                <span class="config-keyword">CRC:</span> 0x12AB34CD<br>
                            </div>
                            <p><strong>Switching:</strong> Table MAC ‚Üí Port de sortie</p>
                        </div>

                        <div class="step">
                            <strong>√âtape 5: Couche Physique</strong>
                            <div class="config-code">
                                <span class="config-comment">// Transmission √©lectrique/optique</span><br>
                                <span class="config-keyword">M√©dia:</span> C√¢ble Ethernet Cat6<br>
                                <span class="config-keyword">Signal:</span> Modulation Manchester<br>
                                <span class="config-keyword">D√©bit:</span> 1 Gbps<br>
                                <span class="config-keyword">Connecteur:</span> RJ45<br>
                            </div>
                            <p><strong>Transmission:</strong> Bits ‚Üí Signaux √©lectriques</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="practice-lab">
                <h3>üî¨ Laboratoire: Analyse avec Wireshark</h3>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Capture de paquets HTTP</label>
                        <textarea id="wiresharkHttp" placeholder="Collez votre capture Wireshark..."></textarea>
                    </div>
                    <div class="input-group">
                        <label>Analyse des en-t√™tes</label>
                        <textarea id="headersAnalysis" placeholder="Analysez chaque en-t√™te..."></textarea>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-intermediate" onclick="analyzeWireshark()">
                        üïµÔ∏è Analyser la Capture
                    </button>
                    <button class="btn btn-advanced" onclick="showSolution('wiresharkExample')">
                        üìã Exemple Complet
                    </button>
                </div>

                <div id="wiresharkExample" class="solution">
                    <h4>‚úÖ Exemple d'Analyse Wireshark:</h4>
                    <div class="config-code">
                        <span class="config-comment"># Frame 1: 74 bytes on wire</span><br>
                        <span class="config-keyword">Ethernet II</span>, Src: Apple_ab:cd:ef, Dst: Cisco_12:34:56<br>
                        <span class="config-keyword">Internet Protocol</span> Version 4, Src: 192.168.1.100, Dst: 93.184.216.34<br>
                        <span class="config-keyword">Transmission Control Protocol</span>, Src Port: 54321, Dst Port: 80, Seq: 1, Ack: 1<br>
                        <span class="config-keyword">Hypertext Transfer Protocol</span><br>
                        <span class="config-comment">    GET / HTTP/1.1\r\n</span><br>
                        <span class="config-comment">    Host: example.com\r\n</span><br>
                        <span class="config-comment">    User-Agent: curl/7.64.1\r\n</span><br>
                    </div>
                </div>
            </div>

            <div class="security-note">
                <h3>üõ°Ô∏è Aspects S√©curit√© par Couche</h3>
                
                <div class="subnet-grid">
                    <div class="subnet-item">
                        <strong>Application (7)</strong><br>
                        ‚Ä¢ HTTPS/TLS<br>
                        ‚Ä¢ Authentification<br>
                        ‚Ä¢ Contr√¥le d'acc√®s<br>
                        ‚Ä¢ API Security<br>
                    </div>
                    <div class="subnet-item">
                        <strong>Pr√©sentation (6)</strong><br>
                        ‚Ä¢ Chiffrement SSL/TLS<br>
                        ‚Ä¢ Compression s√©curis√©e<br>
                        ‚Ä¢ Formatage des donn√©es<br>
                    </div>
                    <div class="subnet-item">
                        <strong>Session (5)</strong><br>
                        ‚Ä¢ Gestion des sessions<br>
                        ‚Ä¢ Tokens s√©curis√©s<br>
                        ‚Ä¢ Timeout sessions<br>
                    </div>
                    <div class="subnet-item">
                        <strong>Transport (4)</strong><br>
                        ‚Ä¢ TCP SYN Flood Protection<br>
                        ‚Ä¢ DDoS Protection<br>
                        ‚Ä¢ Firewall Stateful<br>
                    </div>
                    <div class="subnet-item">
                        <strong>R√©seau (3)</strong><br>
                        ‚Ä¢ ACLs<br>
                        ‚Ä¢ VPN IPSec<br>
                        ‚Ä¢ Routage s√©curis√©<br>
                    </div>
                    <div class="subnet-item">
                        <strong>Liaison (2)</strong><br>
                        ‚Ä¢ VLAN Security<br>
                        ‚Ä¢ MAC Filtering<br>
                        ‚Ä¢ Port Security<br>
                    </div>
                    <div class="subnet-item">
                        <strong>Physique (1)</strong><br>
                        ‚Ä¢ Contr√¥le d'acc√®s physique<br>
                        ‚Ä¢ Protection des c√¢bles<br>
                        ‚Ä¢ Anti-tapping<br>
                    </div>
                </div>
            </div>

            <div class="exercise">
                <h3>üí™ Exercice: Troubleshooting par Couche</h3>
                
                <div class="troubleshooting-scenario">
                    <h4>üîß Sc√©nario: Impossible d'acc√©der √† un serveur web</h4>
                    <p><strong>Sympt√¥mes:</strong> Le navigateur affiche "Impossible de se connecter au serveur"</p>
                    
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Diagnostic Couche Physique</label>
                            <select id="physicalDiag">
                                <option value="">S√©lectionnez</option>
                                <option value="cable">C√¢ble r√©seau d√©branch√©</option>
                                <option value="led">LED switch √©teinte</option>
                                <option value="port">Port switch d√©fectueux</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Diagnostic Couche Liaison</label>
                            <select id="linkDiag">
                                <option value="">S√©lectionnez</option>
                                <option value="mac">Table MAC vide</option>
                                <option value="vlan">Mauvais VLAN</option>
                                <option value="duplex">Probl√®me duplex</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Diagnostic Couche R√©seau</label>
                            <select id="networkDiag">
                                <option value="">S√©lectionnez</option>
                                <option value="ip">Mauvaise IP</option>
                                <option value="route">Route manquante</option>
                                <option value="acl">ACL bloquante</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Diagnostic Couche Transport</label>
                            <select id="transportDiag">
                                <option value="">S√©lectionnez</option>
                                <option value="firewall">Firewall bloque le port</option>
                                <option value="syn">SYN non ACK</option>
                                <option value="mtu">Probl√®me MTU</option>
                            </select>
                        </div>
                    </div>

                    <button class="btn btn-advanced" onclick="validateTroubleshooting()">
                        ‚úÖ Valider le Diagnostic
                    </button>
                </div>
            </div>

            <div class="protocol-analysis">
                <h3>üìä Analyse des Protocoles par Couche</h3>
                
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>Couche</th>
                            <th>Protocoles</th>
                            <th>Unit√© de Donn√©e</th>
                            <th>√âquipements</th>
                            <th>Outils d'Analyse</th>
                        </tr>
                        <tr>
                            <td>Application</td>
                            <td>HTTP, DNS, SMTP, FTP</td>
                            <td>Message/Data</td>
                            <td>Proxy, Load Balancer</td>
                            <td>Wireshark, Burp Suite</td>
                        </tr>
                        <tr>
                            <td>Transport</td>
                            <td>TCP, UDP, SCTP</td>
                            <td>Segment (TCP)<br>Datagram (UDP)</td>
                            <td>Firewall, WAF</td>
                            <td>tcpdump, netstat</td>
                        </tr>
                        <tr>
                            <td>R√©seau</td>
                            <td>IP, ICMP, OSPF, BGP</td>
                            <td>Paquet</td>
                            <td>Routeur, L3 Switch</td>
                            <td>ping, traceroute</td>
                        </tr>
                        <tr>
                            <td>Liaison</td>
                            <td>Ethernet, PPP, VLAN</td>
                            <td>Trame</td>
                            <td>Switch, Bridge</td>
                            <td>ARP, MAC Table</td>
                        </tr>
                        <tr>
                            <td>Physique</td>
                            <td>RJ45, Wi-Fi, Fiber</td>
                            <td>Bit</td>
                            <td>Hub, R√©p√©teur</td>
                            <td>Cable tester, OTDR</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="advanced-topic">
                <h3>üîß Configuration Avanc√©e par Couche</h3>
                
                <div class="step-by-step">
                    <h4>üõ†Ô∏è Exemple: Configuration S√©curis√©e Multi-Couches</h4>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>Couche 2: S√©curisation des Ports Switch</strong>
                            <div class="config-code">
                                <span class="config-keyword">interface</span> FastEthernet0/1<br>
                                <span class="config-keyword">switchport mode</span> access<br>
                                <span class="config-keyword">switchport access vlan</span> 10<br>
                                <span class="config-keyword">switchport port-security</span><br>
                                <span class="config-keyword">switchport port-security maximum</span> 2<br>
                                <span class="config-keyword">switchport port-security violation</span> restrict<br>
                                <span class="config-keyword">switchport port-security mac-address</span> sticky<br>
                            </div>
                        </div>

                        <div class="step">
                            <strong>Couche 3: ACL et Routage</strong>
                            <div class="config-code">
                                <span class="config-keyword">ip access-list extended</span> WEB-ACL<br>
                                <span class="config-keyword">permit</span> tcp 192.168.10.0 0.0.0.255 any eq 80<br>
                                <span class="config-keyword">permit</span> tcp 192.168.10.0 0.0.0.255 any eq 443<br>
                                <span class="config-keyword">deny</span> ip any any<br>
                                <span class="config-keyword">!</span><br>
                                <span class="config-keyword">interface</span> Vlan10<br>
                                <span class="config-keyword">ip access-group</span> WEB-ACL in<br>
                            </div>
                        </div>

                        <div class="step">
                            <strong>Couche 4: Politique Firewall</strong>
                            <div class="config-code">
                                <span class="config-comment"># R√®gle iptables</span><br>
                                <span class="config-keyword">iptables</span> -A FORWARD -s 192.168.10.0/24 -p tcp --dport 80 -j ACCEPT<br>
                                <span class="config-keyword">iptables</span> -A FORWARD -s 192.168.10.0/24 -p tcp --dport 443 -j ACCEPT<br>
                                <span class="config-keyword">iptables</span> -A FORWARD -s 192.168.10.0/24 -j DROP<br>
                                <span class="config-comment"># Stateful inspection</span><br>
                                <span class="config-keyword">iptables</span> -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT<br>
                            </div>
                        </div>

                        <div class="step">
                            <strong>Couche 7: S√©curisation Applicative</strong>
                            <div class="config-code">
                                <span class="config-comment"># Configuration Apache</span><br>
                                <span class="config-keyword">ServerTokens</span> Prod<br>
                                <span class="config-keyword">ServerSignature</span> Off<br>
                                <span class="config-keyword">Header</span> always set X-Content-Type-Options nosniff<br>
                                <span class="config-keyword">Header</span> always set X-Frame-Options DENY<br>
                                <span class="config-keyword">SSLProtocol</span> All -SSLv3 -TLSv1 -TLSv1.1<br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="real-world-example">
                <h3>üåç Cas R√©el: Attaque et D√©fense par Couche</h3>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üéØ Attaque: ARP Spoofing (Couche 2)</h4>
                        <p><strong>Technique:</strong> Envoi de fausses r√©ponses ARP pour rediriger le trafic</p>
                        <p><strong>Impact:</strong> Man-in-the-middle, interception des donn√©es</p>
                        <p><strong>D√©fense:</strong> Port Security, DHCP Snooping, Dynamic ARP Inspection</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üéØ Attaque: IP Spoofing (Couche 3)</h4>
                        <p><strong>Technique:</strong> Usurpation d'adresse IP source</p>
                        <p><strong>Impact:</strong> Contournement ACL, DDoS amplification</p>
                        <p><strong>D√©fense:</strong> uRPF, ACL ingress filtering, IP Source Guard</p>
                    </div>
                    
                    <div class="feature-card">
                        <h4>üéØ Attaque: SYN Flood (Couche 4)</h4>
                        <p><strong>Technique:</strong> Envoi massif de paquets SYN pour √©puiser les ressources</p>
                        <p><strong>Impact:</strong> Denial of Service des services TCP</p>
                        <p><strong>D√©fense:</strong> SYN Cookies, Rate Limiting, DDoS Protection</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Fondamentaux -->
        <section id="fundamentals" class="tab-content">
            <h2>üéØ Fondamentaux des R√©seaux - Niveau D√©butant</h2>
            <span class="level-badge beginner">D√©butant</span>

            <div class="concept-card">
                <h3>üìö Comprendre les Adresses IP</h3>
                <p>Une adresse IPv4 est compos√©e de 4 octets (32 bits) s√©par√©s par des points. Chaque octet peut avoir une valeur de 0 √† 255.</p>
                
                <div class="detailed-explanation">
                    <h4>üîç Explication D√©taill√©e:</h4>
                    <p><strong>Structure d'une adresse IP:</strong> 192.168.1.1</p>
                    
                    <div class="binary-visual">
                        <!-- Premier octet -->
                        <div class="bit one" title="Bit 1: 128">1</div>
                        <div class="bit one" title="Bit 2: 64">1</div>
                        <div class="bit zero" title="Bit 3: 32">0</div>
                        <div class="bit zero" title="Bit 4: 16">0</div>
                        <div class="bit zero" title="Bit 5: 8">0</div>
                        <div class="bit zero" title="Bit 6: 4">0</div>
                        <div class="bit zero" title="Bit 7: 2">0</div>
                        <div class="bit zero" title="Bit 8: 1">0</div>
                        
                        <div class="octet-separator">.</div>
                        
                        <!-- Deuxi√®me octet -->
                        <div class="bit one" title="Bit 9: 128">1</div>
                        <div class="bit zero" title="Bit 10: 64">0</div>
                        <div class="bit one" title="Bit 11: 32">1</div>
                        <div class="bit zero" title="Bit 12: 16">0</div>
                        <div class="bit one" title="Bit 13: 8">1</div>
                        <div class="bit zero" title="Bit 14: 4">0</div>
                        <div class="bit zero" title="Bit 15: 2">0</div>
                        <div class="bit zero" title="Bit 16: 1">0</div>
                        
                        <div class="octet-separator">.</div>
                        
                        <!-- Troisi√®me octet -->
                        <div class="bit zero" title="Bit 17: 128">0</div>
                        <div class="bit zero" title="Bit 18: 64">0</div>
                        <div class="bit zero" title="Bit 19: 32">0</div>
                        <div class="bit zero" title="Bit 20: 16">0</div>
                        <div class="bit zero" title="Bit 21: 8">0</div>
                        <div class="bit zero" title="Bit 22: 4">0</div>
                        <div class="bit zero" title="Bit 23: 2">0</div>
                        <div class="bit one" title="Bit 24: 1">1</div>
                        
                        <div class="octet-separator">.</div>
                        
                        <!-- Quatri√®me octet -->
                        <div class="bit zero" title="Bit 25: 128">0</div>
                        <div class="bit zero" title="Bit 26: 64">0</div>
                        <div class="bit zero" title="Bit 27: 32">0</div>
                        <div class="bit zero" title="Bit 28: 16">0</div>
                        <div class="bit zero" title="Bit 29: 8">0</div>
                        <div class="bit zero" title="Bit 30: 4">0</div>
                        <div class="bit zero" title="Bit 31: 2">0</div>
                        <div class="bit one" title="Bit 32: 1">1</div>
                    </div>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>Calcul du premier octet (192):</strong><br>
                            128 + 64 = 192 ‚Üí 11000000
                        </div>
                        <div class="step">
                            <strong>Calcul du deuxi√®me octet (168):</strong><br>
                            128 + 32 + 8 = 168 ‚Üí 10101000
                        </div>
                        <div class="step">
                            <strong>Calcul du troisi√®me octet (1):</strong><br>
                            1 = 1 ‚Üí 00000001
                        </div>
                        <div class="step">
                            <strong>Calcul du quatri√®me octet (1):</strong><br>
                            1 = 1 ‚Üí 00000001
                        </div>
                    </div>
                </div>
            </div>

            <div class="exercise">
                <h3>üí™ Exercice 1: Conversion Binaire ‚Üî D√©cimal</h3>
                <p>Convertissez les valeurs suivantes:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Binaire: 11000000.10101000.00000001.00000001</label>
                        <input type="text" id="binaryToDecimal" placeholder="Adresse IP d√©cimale">
                    </div>
                    <div class="input-group">
                        <label>D√©cimal: 10.20.30.40</label>
                        <input type="text" id="decimalToBinary" placeholder="Adresse IP binaire">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-beginner" onclick="checkBinaryConversion()">
                        ‚úÖ V√©rifier les Conversions
                    </button>
                    <button class="btn btn-intermediate" onclick="showSolution('binarySolution')">
                        üìã Voir la M√©thode
                    </button>
                </div>

                <div id="binarySolution" class="solution">
                    <h4>‚úÖ M√©thode de Conversion:</h4>
                    <div class="step-by-step">
                        <p><strong>Binaire ‚Üí D√©cimal:</strong></p>
                        <p>11000000 = (1√ó128) + (1√ó64) + (0√ó32) + (0√ó16) + (0√ó8) + (0√ó4) + (0√ó2) + (0√ó1) = 192</p>
                        <p><strong>D√©cimal ‚Üí Binaire:</strong></p>
                        <p>10 = 128? Non ‚Üí 0, 64? Non ‚Üí 0, 32? Non ‚Üí 0, 16? Non ‚Üí 0, 8? Oui ‚Üí 1 (reste 2), 4? Non ‚Üí 0, 2? Oui ‚Üí 1 (reste 0), 1? Non ‚Üí 0</p>
                        <p>10 = 00001010</p>
                    </div>
                </div>
            </div>

            <div class="practice-lab">
                <h3>üî¨ Laboratoire 1: Analyse d'Adressage</h3>
                <p>Analysez le r√©seau suivant: <strong>192.168.1.0/24</strong></p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Adresse r√©seau</label>
                        <input type="text" id="networkAddress" placeholder="192.168.1.0">
                    </div>
                    <div class="input-group">
                        <label>Premi√®re adresse utilisable</label>
                        <input type="text" id="firstUsable" placeholder="192.168.1.1">
                    </div>
                    <div class="input-group">
                        <label>Derni√®re adresse utilisable</label>
                        <input type="text" id="lastUsable" placeholder="192.168.1.254">
                    </div>
                    <div class="input-group">
                        <label>Adresse de broadcast</label>
                        <input type="text" id="broadcastAddress" placeholder="192.168.1.255">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-beginner" onclick="checkNetworkAnalysis()">
                        üßÆ V√©rifier l'Analyse
                    </button>
                    <button class="btn btn-intermediate" onclick="showSolution('networkAnalysisSolution')">
                        üìä Explication D√©taill√©e
                    </button>
                </div>

                <div id="networkAnalysisSolution" class="solution">
                    <h4>‚úÖ Analyse du R√©seau 192.168.1.0/24:</h4>
                    <div class="detailed-explanation">
                        <p><strong>Masque: </strong>255.255.255.0 = /24 (24 bits r√©seau, 8 bits h√¥te)</p>
                        <p><strong>Adresses totales: </strong>2‚Å∏ = 256 adresses</p>
                        <p><strong>Adresses utilisables: </strong>256 - 2 = 254 adresses (sans r√©seau et broadcast)</p>
                        <p><strong>Plage: </strong>192.168.1.0 - 192.168.1.255</p>
                    </div>
                </div>
            </div>

            <!-- Nouvel exercice pratique -->
            <div class="exercise">
                <h3>üí™ Exercice Additionnel: Quiz des Classes d'Adresses</h3>
                <p>Identifiez la classe de chaque adresse IP:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>10.20.30.40</label>
                        <select id="class1">
                            <option value="">Choisir la classe</option>
                            <option value="A">Classe A</option>
                            <option value="B">Classe B</option>
                            <option value="C">Classe C</option>
                            <option value="D">Classe D</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>172.16.100.50</label>
                        <select id="class2">
                            <option value="">Choisir la classe</option>
                            <option value="A">Classe A</option>
                            <option value="B">Classe B</option>
                            <option value="C">Classe C</option>
                            <option value="D">Classe D</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>192.168.1.100</label>
                        <select id="class3">
                            <option value="">Choisir la classe</option>
                            <option value="A">Classe A</option>
                            <option value="B">Classe B</option>
                            <option value="C">Classe C</option>
                            <option value="D">Classe D</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-beginner" onclick="checkIPClasses()">
                    ‚úÖ V√©rifier les Classes
                </button>
            </div>

            <!-- NOUVEAU: Exemple du monde r√©el -->
            <div class="real-world-example">
                <h3>üåç Exemple du Monde R√©el: R√©seau Domestique</h3>
                <p>Dans un r√©seau domestique typique, votre routeur re√ßoit une adresse IP publique de votre FAI (ex: 82.65.214.123) et attribue des adresses priv√©es aux appareils connect√©s (ex: 192.168.1.2, 192.168.1.3, etc.).</p>
                <p><strong>Pourquoi utiliser des adresses priv√©es?</strong> Elles permettent de r√©utiliser les m√™mes plages d'adresses dans diff√©rents r√©seaux sans conflit, tout en √©conomisant les adresses IPv4 publiques limit√©es.</p>
            </div>

            <!-- NOUVEAU: Exercice pratique suppl√©mentaire -->
            <div class="practice-lab">
                <h3>üî¨ Exercice Pratique: Configuration d'un R√©seau Simple</h3>
                <p>Configurez un r√©seau pour un petit bureau avec 10 postes de travail et 2 imprimantes:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Adresse r√©seau √† utiliser</label>
                        <select id="networkChoice">
                            <option value="192.168.1.0/24">192.168.1.0/24</option>
                            <option value="10.0.1.0/24">10.0.1.0/24</option>
                            <option value="172.16.1.0/24">172.16.1.0/24</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Adresse IP du routeur (passerelle)</label>
                        <input type="text" id="routerIP" placeholder="ex: 192.168.1.1">
                    </div>
                    <div class="input-group">
                        <label>Plage DHCP (d√©but)</label>
                        <input type="text" id="dhcpStart" placeholder="ex: 192.168.1.100">
                    </div>
                    <div class="input-group">
                        <label>Plage DHCP (fin)</label>
                        <input type="text" id="dhcpEnd" placeholder="ex: 192.168.1.200">
                    </div>
                </div>

                <button class="btn btn-beginner" onclick="validateNetworkConfig()">
                    ‚úÖ Valider la Configuration
                </button>
            </div>
        </section>

        <!-- Section Subnetting CORRIG√âE -->
        <section id="subnetting" class="tab-content">
            <h2>üîß Subnetting Avanc√© - Niveau Interm√©diaire</h2>
            <span class="level-badge intermediate">Interm√©diaire</span>

            <div class="concept-card">
                <h3>üéØ Principes du Sous-r√©seautage</h3>
                <p>Le subnetting permet de diviser un r√©seau en sous-r√©seaux plus petits pour optimiser l'adressage.</p>
                
                <div class="step-by-step">
                    <h4>üìñ Exemple Pas √† Pas: Division d'un /24 en 4 sous-r√©seaux</h4>
                    <p><strong>R√©seau original: </strong>192.168.1.0/24</p>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>√âtape 1: D√©terminer le nombre de bits n√©cessaires</strong><br>
                            Pour 4 sous-r√©seaux: 2¬≤ = 4 ‚Üí 2 bits suppl√©mentaires
                        </div>
                        <div class="step">
                            <strong>√âtape 2: Calculer le nouveau masque</strong><br>
                            Masque original: /24 + 2 bits = /26<br>
                            Nouveau masque: 255.255.255.192
                        </div>
                        <div class="step">
                            <strong>√âtape 3: Calculer la taille des sous-r√©seaux</strong><br>
                            Bits h√¥te: 32 - 26 = 6 bits<br>
                            Adresses par sous-r√©seau: 2‚Å∂ = 64 adresses
                        </div>
                        <div class="step">
                            <strong>√âtape 4: D√©terminer les sous-r√©seaux</strong><br>
                            ‚Ä¢ Sous-r√©seau 1: 192.168.1.0/26 (0-63)<br>
                            ‚Ä¢ Sous-r√©seau 2: 192.168.1.64/26 (64-127)<br>
                            ‚Ä¢ Sous-r√©seau 3: 192.168.1.128/26 (128-191)<br>
                            ‚Ä¢ Sous-r√©seau 4: 192.168.1.192/26 (192-255)
                        </div>
                    </div>

                    <!-- VISUALISATION AM√âLIOR√âE -->
                    <div class="subnet-visualization">
                        <h4>üîç Visualisation des Bits</h4>
                        <div class="binary-visual">
                            <!-- 24 bits r√©seau -->
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            <div class="bit network" title="R√©seau">N</div><div class="bit network" title="R√©seau">N</div>
                            
                            <!-- 2 bits sous-r√©seau -->
                            <div class="bit subnet" title="Sous-r√©seau">S</div><div class="bit subnet" title="Sous-r√©seau">S</div>
                            
                            <!-- 6 bits h√¥te -->
                            <div class="bit host" title="H√¥te">H</div><div class="bit host" title="H√¥te">H</div>
                            <div class="bit host" title="H√¥te">H</div><div class="bit host" title="H√¥te">H</div>
                            <div class="bit host" title="H√¥te">H</div><div class="bit host" title="H√¥te">H</div>
                        </div>
                        <p style="text-align: center; margin-top: 10px;">
                            <strong>N=Network (24 bits) | S=Subnet (2 bits) | H=Host (6 bits)</strong>
                        </p>
                    </div>

                    <!-- TABLEAU DES SOUS-R√âSEAUX -->
                    <div class="subnet-grid">
                        <div class="subnet-item">
                            <strong>Sous-r√©seau 1</strong><br>
                            192.168.1.0/26<br>
                            Plage: 192.168.1.1 - 192.168.1.62<br>
                            Broadcast: 192.168.1.63
                        </div>
                        <div class="subnet-item">
                            <strong>Sous-r√©seau 2</strong><br>
                            192.168.1.64/26<br>
                            Plage: 192.168.1.65 - 192.168.1.126<br>
                            Broadcast: 192.168.1.127
                        </div>
                        <div class="subnet-item">
                            <strong>Sous-r√©seau 3</strong><br>
                            192.168.1.128/26<br>
                            Plage: 192.168.1.129 - 192.168.1.190<br>
                            Broadcast: 192.168.1.191
                        </div>
                        <div class="subnet-item">
                            <strong>Sous-r√©seau 4</strong><br>
                            192.168.1.192/26<br>
                            Plage: 192.168.1.193 - 192.168.1.254<br>
                            Broadcast: 192.168.1.255
                        </div>
                    </div>
                </div>
            </div>

            <div class="exercise">
                <h3>üí™ Exercice 2: Calcul de Sous-r√©seaux avec Contraintes</h3>
                <p>√Ä partir du r√©seau 172.16.0.0/16, cr√©ez des sous-r√©seaux pour:</p>
                <ul>
                    <li>Site A: 500 h√¥tes</li>
                    <li>Site B: 200 h√¥tes</li>
                    <li>Site C: 50 h√¥tes</li>
                    <li>Liaisons WAN: 10 sous-r√©seaux de 2 h√¥tes</li>
                </ul>

                <div class="form-grid">
                    <div class="input-group">
                        <label>Site A - Sous-r√©seau</label>
                        <input type="text" id="siteA" placeholder="172.16.0.0/?">
                    </div>
                    <div class="input-group">
                        <label>Site B - Sous-r√©seau</label>
                        <input type="text" id="siteB" placeholder="172.16.?.0/?">
                    </div>
                    <div class="input-group">
                        <label>Site C - Sous-r√©seau</label>
                        <input type="text" id="siteC" placeholder="172.16.?.0/?">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-intermediate" onclick="checkSubnetExercise()">
                        ‚úÖ V√©rifier la Solution
                    </button>
                    <button class="btn btn-advanced" onclick="showHint('subnetHint')">
                        üí° Aide M√©moire
                    </button>
                </div>

                <div id="subnetHint" class="hint">
                    <strong>Indice:</strong> Commencez par les plus grands sous-r√©seaux. Pour 500 h√¥tes, il faut 512 adresses (2‚Åπ), donc /23.
                </div>
            </div>

            <!-- NOUVEL EXERCICE DE SUBNETTING -->
            <div class="practice-lab">
                <h3>üî¨ Exercice Pratique: Subnetting CIDR</h3>
                <p>Divisez le r√©seau 10.0.0.0/8 en sous-r√©seaux pour diff√©rents d√©partements:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>IT - 2000 h√¥tes</label>
                        <input type="text" id="itSubnet" placeholder="10.?.?.?/?">
                    </div>
                    <div class="input-group">
                        <label>Marketing - 500 h√¥tes</label>
                        <input type="text" id="marketingSubnet" placeholder="10.?.?.?/?">
                    </div>
                    <div class="input-group">
                        <label>Finance - 100 h√¥tes</label>
                        <input type="text" id="financeSubnet" placeholder="10.?.?.?/?">
                    </div>
                </div>

                <button class="btn btn-intermediate" onclick="checkCIDRSubnetting()">
                    üßÆ V√©rifier le CIDR
                </button>
            </div>

            <div class="practice-lab">
                <h3>üî¨ Laboratoire 2: Calculateur VLSM Interactif</h3>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>R√©seau principal</label>
                        <input type="text" id="vlsmNetwork" value="192.168.0.0" placeholder="192.168.0.0">
                    </div>
                    <div class="input-group">
                        <label>Masque initial</label>
                        <select id="vlsmMask">
                            <option value="16">/16</option>
                            <option value="24" selected>/24</option>
                            <option value="22">/22</option>
                        </select>
                    </div>
                </div>

                <h4>Besoins en sous-r√©seaux:</h4>
                <div id="vlsmSubnets">
                    <div class="form-grid">
                        <div class="input-group">
                            <label>Nom du sous-r√©seau</label>
                            <input type="text" id="subnetName1" value="Direction" placeholder="Direction">
                        </div>
                        <div class="input-group">
                            <label>Nombre d'h√¥tes</label>
                            <input type="number" id="subnetHosts1" value="30" min="1">
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="input-group">
                            <label>Nom du sous-r√©seau</label>
                            <input type="text" id="subnetName2" value="Administration" placeholder="Administration">
                        </div>
                        <div class="input-group">
                            <label>Nombre d'h√¥tes</label>
                            <input type="number" id="subnetHosts2" value="60" min="1">
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="input-group">
                            <label>Nom du sous-r√©seau</label>
                            <input type="text" id="subnetName3" value="Production" placeholder="Production">
                        </div>
                        <div class="input-group">
                            <label>Nombre d'h√¥tes</label>
                            <input type="number" id="subnetHosts3" value="120" min="1">
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-advanced" onclick="calculateVLSM()">
                        üßÆ Calculer VLSM
                    </button>
                    <button class="btn btn-intermediate" onclick="addSubnetField()">
                        ‚ûï Ajouter un Sous-r√©seau
                    </button>
                </div>

                <div id="vlsmResults"></div>
            </div>

            <!-- NOUVEAU: Exemple du monde r√©el -->
            <div class="real-world-example">
                <h3>üåç Exemple du Monde R√©el: R√©seau d'Entreprise</h3>
                <p>Dans une entreprise de taille moyenne, le subnetting est utilis√© pour:</p>
                <ul>
                    <li>S√©parer les d√©partements (Direction, RH, IT, etc.)</li>
                    <li>Isoler les r√©seaux invit√©s des r√©seaux internes</li>
                    <li>Cr√©er des sous-r√©seaux pour les serveurs, imprimantes et √©quipements r√©seau</li>
                    <li>Segmenter les r√©seaux par √©tage ou b√¢timent</li>
                </ul>
                <p><strong>Avantages:</strong> S√©curit√© am√©lior√©e, meilleures performances, gestion simplifi√©e.</p>
            </div>

            <!-- NOUVEAU: Exercice de d√©pannage -->
            <div class="troubleshooting-scenario">
                <h3>üîß Sc√©nario de D√©pannage: Probl√®me de Connectivit√©</h3>
                <p><strong>Probl√®me:</strong> Un utilisateur du sous-r√©seau 192.168.1.64/26 ne peut pas acc√©der √† une ressource sur le sous-r√©seau 192.168.1.128/26.</p>
                <p><strong>Questions de diagnostic:</strong></p>
                <ol>
                    <li>Les deux sous-r√©seaux sont-ils sur le m√™me VLAN?</li>
                    <li>Y a-t-il une r√®gle ACL qui bloque le trafic entre ces sous-r√©seaux?</li>
                    <li>La passerelle par d√©faut est-elle correctement configur√©e?</li>
                    <li>Le routage inter-VLAN est-il configur√©?</li>
                </ol>
                <div class="input-group">
                    <label>Votre analyse du probl√®me:</label>
                    <textarea id="troubleshootingAnalysis" placeholder="D√©crivez votre approche de diagnostic..."></textarea>
                </div>
                <button class="btn btn-advanced" onclick="validateTroubleshooting()">
                    ‚úÖ Valider l'Analyse
                </button>
            </div>
        </section>

        <!-- Section Routage -->
        <section id="routing" class="tab-content">
            <h2>üö¶ Routage Avanc√© - Niveau Avanc√©</h2>
            <span class="level-badge advanced">Avanc√©</span>

            <div class="concept-card">
                <h3>üîÑ Routage Inter-VLAN D√©taill√©</h3>
                <p>Le routage inter-VLAN permet la communication entre diff√©rents VLANs via un routeur.</p>
                
                <div class="step-by-step">
                    <h4>üìñ Configuration Pas √† Pas: Router-on-a-Stick</h4>
                    
                    <div class="calculation-steps">
                        <div class="step">
                            <strong>√âtape 1: Configuration des VLANs sur le Switch</strong>
                            <div class="config-code">
                                <span class="config-keyword">Switch</span><span class="config-comment"># configure terminal</span><br>
                                <span class="config-keyword">Switch</span>(config)<span class="config-comment"># vlan 10</span><br>
                                <span class="config-keyword">Switch</span>(config-vlan)<span class="config-comment"># name VLAN10-DIRECTION</span><br>
                                <span class="config-keyword">Switch</span>(config-vlan)<span class="config-comment"># exit</span><br>
                                <span class="config-keyword">Switch</span>(config)<span class="config-comment"># vlan 20</span><br>
                                <span class="config-keyword">Switch</span>(config-vlan)<span class="config-comment"># name VLAN20-ADMIN</span><br>
                            </div>
                        </div>

                        <div class="step">
                            <strong>√âtape 2: Configuration des Ports d'Acc√®s</strong>
                            <div class="config-code">
                                <span class="config-keyword">Switch</span>(config)<span class="config-comment"># interface range fastEthernet 0/1-12</span><br>
                                <span class="config-keyword">Switch</span>(config-if-range)<span class="config-comment"># switchport mode access</span><br>
                                <span class="config-keyword">Switch</span>(config-if-range)<span class="config-comment"># switchport access vlan 10</span><br>
                                <span class="config-keyword">Switch</span>(config-if-range)<span class="config-comment"># exit</span><br>
                            </div>
                        </div>

                        <div class="step">
                            <strong>√âtape 3: Configuration du Port Trunk</strong>
                            <div class="config-code">
                                <span class="config-keyword">Switch</span>(config)<span class="config-comment"># interface gigabitEthernet 0/1</span><br>
                                <span class="config-keyword">Switch</span>(config-if)<span class="config-comment"># switchport mode trunk</span><br>
                                <span class="config-keyword">Switch</span>(config-if)<span class="config-comment"># switchport trunk allowed vlan 10,20</span><br>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="exercise">
                <h3>üí™ Exercice 3: Configuration OSPF Multi-Aires</h3>
                <p>Configurez OSPF pour l'architecture suivante:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Area 0 - R√©seaux</label>
                        <textarea id="area0" placeholder="192.168.1.0 0.0.0.255\n192.168.2.0 0.0.0.255"></textarea>
                    </div>
                    <div class="input-group">
                        <label>Area 1 - R√©seaux</label>
                        <textarea id="area1" placeholder="10.1.0.0 0.0.255.255"></textarea>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-advanced" onclick="generateOSPFConfig()">
                        üõ†Ô∏è G√©n√©rer la Configuration
                    </button>
                    <button class="btn btn-security" onclick="showSolution('ospfSecurity')">
                        üõ°Ô∏è S√©curisation OSPF
                    </button>
                </div>

                <div id="ospfSecurity" class="solution">
                    <h4>‚úÖ S√©curisation OSPF:</h4>
                    <div class="config-code">
                        <span class="config-comment">! Authentification MD5</span><br>
                        <span class="config-keyword">interface</span> gigabitEthernet0/0<br>
                        <span class="config-keyword">ip ospf authentication</span> message-digest<br>
                        <span class="config-keyword">ip ospf message-digest-key</span> 1 md5 MON_MDP_SECRET<br>
                        <span class="config-keyword">!</span><br>
                        <span class="config-comment">! Filtrage des routes</span><br>
                        <span class="config-keyword">router</span> ospf 1<br>
                        <span class="config-keyword">distribute-list</span> 1 in<br>
                    </div>
                </div>
            </div>

            <!-- NOUVEL EXERCICE DE ROUTAGE -->
            <div class="practice-lab">
                <h3>üî¨ Exercice Pratique: Table de Routage</h3>
                <p>Compl√©tez la table de routage pour le r√©seau suivant:</p>
                
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>R√©seau Destination</th>
                            <th>Masque</th>
                            <th>Next Hop</th>
                            <th>Interface</th>
                        </tr>
                        <tr>
                            <td><input type="text" id="route1" placeholder="192.168.1.0"></td>
                            <td><input type="text" id="mask1" placeholder="255.255.255.0"></td>
                            <td><input type="text" id="hop1" placeholder="Direct"></td>
                            <td><input type="text" id="int1" placeholder="G0/0"></td>
                        </tr>
                        <tr>
                            <td><input type="text" id="route2" placeholder="0.0.0.0"></td>
                            <td><input type="text" id="mask2" placeholder="0.0.0.0"></td>
                            <td><input type="text" id="hop2" placeholder="192.168.1.1"></td>
                            <td><input type="text" id="int2" placeholder="G0/0"></td>
                        </tr>
                    </table>
                </div>

                <button class="btn btn-advanced" onclick="checkRoutingTable()">
                    ‚úÖ V√©rifier la Table
                </button>
            </div>

            <!-- NOUVEAU: Analyse de protocole -->
            <div class="protocol-analysis">
                <h3>üìä Analyse de Protocole: Comparaison OSPF vs EIGRP</h3>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>Caract√©ristique</th>
                            <th>OSPF</th>
                            <th>EIGRP</th>
                        </tr>
                        <tr>
                            <td>Type de protocole</td>
                            <td>Link-State</td>
                            <td>Hybride (Distance Vector avanc√©)</td>
                        </tr>
                        <tr>
                            <td>Algorithme</td>
                            <td>Dijkstra (SPF)</td>
                            <td>DUAL (Diffusing Update Algorithm)</td>
                        </tr>
                        <tr>
                            <td>M√©trique</td>
                            <td>Co√ªt (bas√© sur la bande passante)</td>
                            <td>Composite (bande passante, d√©lai, charge, fiabilit√©)</td>
                        </tr>
                        <tr>
                            <td>Convergence</td>
                            <td>Rapide</td>
                            <td>Tr√®s rapide</td>
                        </tr>
                        <tr>
                            <td>Standard</td>
                            <td>Open (RFC)</td>
                            <td>Propri√©taire Cisco (devenu ouvert)</td>
                        </tr>
                        <tr>
                            <td>Utilisation typique</td>
                            <td>Grands r√©seaux entreprise</td>
                            <td>R√©seaux Cisco homog√®nes</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- NOUVEAU: Exercice de conception -->
            <div class="practice-lab">
                <h3>üî¨ Exercice de Conception: Plan de Routage</h3>
                <p>Concevez un plan de routage pour une entreprise avec 3 sites interconnect√©s:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Site Central (Si√®ge)</label>
                        <input type="text" id="centralSite" placeholder="10.1.0.0/16" value="10.1.0.0/16">
                    </div>
                    <div class="input-group">
                        <label>Site R√©gional A</label>
                        <input type="text" id="siteA" placeholder="10.2.0.0/16" value="10.2.0.0/16">
                    </div>
                    <div class="input-group">
                        <label>Site R√©gional B</label>
                        <input type="text" id="siteB" placeholder="10.3.0.0/16" value="10.3.0.0/16">
                    </div>
                </div>

                <div class="input-group">
                    <label>Strat√©gie de routage propos√©e:</label>
                    <select id="routingStrategy">
                        <option value="ospf">OSPF multi-aires</option>
                        <option value="eigrp">EIGRP</option>
                        <option value="bgp">BGP</option>
                        <option value="static">Routage statique</option>
                    </select>
                </div>

                <div class="input-group">
                    <label>Justification de votre choix:</label>
                    <textarea id="routingJustification" placeholder="Expliquez pourquoi vous avez choisi cette strat√©gie..."></textarea>
                </div>

                <button class="btn btn-advanced" onclick="validateRoutingDesign()">
                    ‚úÖ Valider la Conception
                </button>
            </div>
        </section>

        <!-- Section S√©curit√© -->
        <section id="security" class="tab-content">
            <h2>üõ°Ô∏è S√©curit√© R√©seau - Niveau Expert</h2>
            <span class="level-badge security">S√©curit√©</span>

            <div class="concept-card">
                <h3>üîê ACL Avanc√©es et Best Practices</h3>
                
                <div class="detailed-explanation">
                    <h4>üìñ Exemple: ACL pour Serveur Web S√©curis√©</h4>
                    <div class="config-code">
                        <span class="config-comment">! ACL pour prot√©ger un serveur web</span><br>
                        <span class="config-keyword">ip access-list extended</span> WEB-SERVER-ACL<br>
                        <span class="config-comment">! Permettre HTTP/HTTPS depuis n'importe o√π</span><br>
                        <span class="config-keyword">permit</span> tcp any host 192.168.10.10 eq 80<br>
                        <span class="config-keyword">permit</span> tcp any host 192.168.10.10 eq 443<br>
                        <span class="config-comment">! Permettre SSH uniquement depuis le r√©seau admin</span><br>
                        <span class="config-keyword">permit</span> tcp 192.168.20.0 0.0.0.255 host 192.168.10.10 eq 22<br>
                        <span class="config-comment">! Permettre le monitoring</span><br>
                        <span class="config-keyword">permit</span> icmp any host 192.168.10.10 echo-reply<br>
                        <span class="config-comment">! Bloquer tout le reste + logging</span><br>
                        <span class="config-keyword">deny</span> ip any host 192.168.10.10 log<br>
                        <span class="config-keyword">permit</span> ip any any<br>
                    </div>
                </div>
            </div>

            <div class="exercise">
                <h3>üí™ Exercice 4: Cr√©ation d'ACL Contextuelle</h3>
                <p>Cr√©ez une ACL pour un r√©seau d'entreprise avec les r√®gles suivantes:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>R√©seau Direction (VLAN 10)</label>
                        <input type="text" value="192.168.10.0/24" readonly>
                    </div>
                    <div class="input-group">
                        <label>R√©seau Employ√©s (VLAN 20)</label>
                        <input type="text" value="192.168.20.0/24" readonly>
                    </div>
                    <div class="input-group">
                        <label>Serveur Web</label>
                        <input type="text" value="192.168.30.10" readonly>
                    </div>
                </div>

                <div class="input-group">
                    <label>R√®gles de S√©curit√© √† Impl√©menter</label>
                    <textarea id="aclRules" placeholder="R√©digez vos r√®gles ACL ici..."></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-security" onclick="validateACL()">
                        ‚úÖ Valider l'ACL
                    </button>
                    <button class="btn btn-expert" onclick="showSolution('aclBestPractices')">
                        üìã Best Practices
                    </button>
                </div>

                <div id="aclBestPractices" class="solution">
                    <h4>‚úÖ Best Practices ACL:</h4>
                    <ul>
                        <li>Placer les r√®gles les plus sp√©cifiques en premier</li>
                        <li>Toujours terminer par un "deny ip any any" implicite ou explicite</li>
                        <li>Utiliser des ACL nomm√©es pour une meilleure documentation</li>
                        <li>Limiter l'utilisation du logging pour √©viter la surcharge CPU</li>
                        <li>Auditer r√©guli√®rement les ACL avec "show access-lists"</li>
                    </ul>
                </div>
            </div>

            <!-- NOUVEAU: Sc√©nario de s√©curit√© avanc√© -->
            <div class="advanced-topic">
                <h3>üõ°Ô∏è S√©curit√© Avanc√©e: DMZ et Zones de Confiance</h3>
                <p>Dans une architecture r√©seau s√©curis√©e, on utilise g√©n√©ralement trois zones de s√©curit√©:</p>
                
                <div class="subnet-grid">
                    <div class="subnet-item">
                        <strong>Zone Interne</strong><br>
                        Niveau de confiance: √âlev√©<br>
                        Contient: Postes de travail, serveurs internes<br>
                        Politique: Acc√®s limit√© depuis l'ext√©rieur
                    </div>
                    <div class="subnet-item">
                        <strong>Zone DMZ</strong><br>
                        Niveau de confiance: Moyen<br>
                        Contient: Serveurs web, mail accessibles depuis Internet<br>
                        Politique: Acc√®s contr√¥l√© depuis Internet et interne
                    </div>
                    <div class="subnet-item">
                        <strong>Zone Externe</strong><br>
                        Niveau de confiance: Faible<br>
                        Contient: Internet<br>
                        Politique: Acc√®s strictement contr√¥l√©
                    </div>
                </div>

                <div class="input-group">
                    <label>Concevez une r√®gle de pare-feu pour un serveur web en DMZ:</label>
                    <textarea id="dmzFirewallRule" placeholder="D√©crivez votre r√®gle de pare-feu..."></textarea>
                </div>

                <button class="btn btn-security" onclick="validateDMZRule()">
                    ‚úÖ Valider la R√®gle DMZ
                </button>
            </div>

            <!-- NOUVEAU: Exercice de d√©tection d'intrusion -->
            <div class="practice-lab">
                <h3>üîç Exercice: Analyse de Logs de S√©curit√©</h3>
                <p>Analysez les logs suivants et identifiez les activit√©s suspectes:</p>
                
                <div class="config-code">
                    <span class="config-comment"># Logs du firewall - Extrait</span><br>
                    <span>2023-10-15 08:30:15 DENY TCP 203.0.113.45:54321 192.168.1.10:22</span><br>
                    <span>2023-10-15 08:30:16 DENY TCP 203.0.113.45:54322 192.168.1.10:22</span><br>
                    <span>2023-10-15 08:30:17 DENY TCP 203.0.113.45:54323 192.168.1.10:22</span><br>
                    <span>2023-10-15 08:30:18 DENY TCP 203.0.113.45:54324 192.168.1.10:22</span><br>
                    <span>2023-10-15 08:32:45 ALLOW TCP 192.168.10.5:34567 192.168.30.10:80</span><br>
                    <span>2023-10-15 08:33:10 ALLOW TCP 192.168.10.5:34568 192.168.30.10:443</span><br>
                    <span>2023-10-15 09:15:22 DENY TCP 198.51.100.33:12345 192.168.1.15:3389</span><br>
                </div>

                <div class="input-group">
                    <label>Quelles activit√©s suspectes identifiez-vous?</label>
                    <textarea id="suspiciousActivities" placeholder="D√©crivez les activit√©s suspectes..."></textarea>
                </div>

                <div class="input-group">
                    <label>Quelles mesures recommandez-vous?</label>
                    <textarea id="securityMeasures" placeholder="Proposez des mesures de s√©curit√©..."></textarea>
                </div>

                <button class="btn btn-expert" onclick="validateSecurityAnalysis()">
                    ‚úÖ Valider l'Analyse
                </button>
            </div>
        </section>

        <!-- Section Pratique -->
        <section id="practice" class="tab-content">
            <h2>üíª Laboratoires Pratiques - Niveau Expert</h2>
            <span class="level-badge expert">Expert</span>

            <div class="critical-case">
                <h3>üè¢ Cas R√©el: Architecture d'Entreprise</h3>
                <p><strong>Sc√©nario:</strong> Design d'un r√©seau pour une PME de 150 employ√©s avec 3 sites.</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <h4>üìã Contraintes</h4>
                        <ul>
                            <li>Budget limit√©</li>
                            <li>Haute disponibilit√© requise</li>
                            <li>S√©curit√© renforc√©e</li>
                            <li>√âvolutivit√© n√©cessaire</li>
                        </ul>
                    </div>
                    
                    <div class="input-group">
                        <h4>üéØ Exigences</h4>
                        <ul>
                            <li>3 VLANs minimum</li>
                            <li>Acc√®s Internet s√©curis√©</li>
                            <li>Routage inter-sites</li>
                            <li>Monitoring</li>
                        </ul>
                    </div>
                </div>

                <div class="input-group">
                    <label>Votre Proposition d'Architecture</label>
                    <textarea id="architectureProposal" placeholder="D√©crivez votre architecture r√©seau..."></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-expert" onclick="submitArchitecture()">
                        üèóÔ∏è Soumettre l'Architecture
                    </button>
                    <button class="btn btn-advanced" onclick="showSolution('referenceArchitecture')">
                        üìä Architecture de R√©f√©rence
                    </button>
                </div>

                <div id="referenceArchitecture" class="solution">
                    <h4>‚úÖ Architecture de R√©f√©rence:</h4>
                    <div class="config-code">
                        <span class="config-comment">// TOPOLOGIE RECOMMAND√âE</span><br>
                        <span class="config-comment">// Internet ‚Üí Firewall ‚Üí Routeur Principal ‚Üí Switch Core</span><br>
                        <span class="config-comment">//                                 ‚Üì</span><br>
                        <span class="config-comment">//                          Switches d'Acc√®s</span><br>
                        <span class="config-comment">//</span><br>
                        <span class="config-comment">// VLANs:</span><br>
                        <span class="config-comment">// - VLAN 10: Direction (192.168.10.0/24)</span><br>
                        <span class="config-comment">// - VLAN 20: Employ√©s (192.168.20.0/23)</span><br>
                        <span class="config-comment">// - VLAN 30: Serveurs (192.168.30.0/24)</span><br>
                        <span class="config-comment">// - VLAN 99: Management (192.168.99.0/24)</span><br>
                    </div>
                </div>
            </div>

            <div class="practice-lab">
                <h3>üî¨ Laboratoire Final: Audit de S√©curit√© Complet</h3>
                <p>R√©alisez un audit de s√©curit√© sur l'infrastructure fournie:</p>
                
                <div class="form-grid">
                    <div class="input-group">
                        <label>Scanning de Ports R√©sultat</label>
                        <textarea id="portScan" placeholder="Collez les r√©sultats du scanning..."></textarea>
                    </div>
                    <div class="input-group">
                        <label>Review des Configurations</label>
                        <textarea id="configReview" placeholder="Points critiques identifi√©s..."></textarea>
                    </div>
                </div>

                <div class="input-group">
                    <label>Rapport d'Audit Complet</label>
                    <textarea id="auditReport" placeholder="R√©digez votre rapport d'audit..."></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-expert" onclick="generateAuditReport()">
                        üìã G√©n√©rer le Rapport
                    </button>
                    <button class="btn btn-security" onclick="showSolution('auditTemplate')">
                        üéØ Template d'Audit
                    </button>
                </div>

                <div id="auditTemplate" class="solution">
                    <h4>‚úÖ Template de Rapport d'Audit:</h4>
                    <div class="config-code">
                        <span class="config-comment">// RAPPORT D'AUDIT DE S√âCURIT√â</span><br>
                        <span class="config-comment">// 1. R√âSUM√â EX√âCUTIF</span><br>
                        <span class="config-comment">// - Score de s√©curit√© global</span><br>
                        <span class="config-comment">// - Points critiques identifi√©s</span><br>
                        <span class="config-comment">// - Recommandations prioritaires</span><br>
                        <span class="config-comment">//</span><br>
                        <span class="config-comment">// 2. INVENTAIRE ET CARTOGRAPHIE</span><br>
                        <span class="config-comment">// - √âquipements r√©seau</span><br>
                        <span class="config-comment">// - Topologie logique</span><br>
                        <span class="config-comment">// - Flux de trafic</span><br>
                        <span class="config-comment">//</span><br>
                        <span class="config-comment">// 3. VULN√âRABILIT√âS IDENTIFI√âES</span><br>
                        <span class="config-comment">// - Critique (√† corriger imm√©diatement)</span><br>
                        <span class="config-comment">// - √âlev√© (√† planifier)</span><br>
                        <span class="config-comment">// - Moyen (√† surveiller)</span><br>
                    </div>
                </div>
            </div>

            <!-- NOUVEAU: Simulation de r√©seau avec Packet Tracer -->
            <div class="practice-lab">
                <h3>üî¨ Simulation: Cr√©ation d'un R√©seau avec Packet Tracer</h3>
                <p>Utilisez Cisco Packet Tracer pour cr√©er le r√©seau suivant:</p>
                
                <div class="step-by-step">
                    <h4>üìã Sp√©cifications du R√©seau:</h4>
                    <ul>
                        <li>2 routeurs connect√©s via liaison s√©rie</li>
                        <li>Chaque routeur connect√© √† un switch</li>
                        <li>2 VLANs par site (Direction et Employ√©s)</li>
                        <li>Routage inter-VLAN et inter-sites</li>
                        <li>Serveur DHCP centralis√©</li>
                    </ul>
                    
                    <div class="input-group">
                        <label>D√©crivez votre configuration Packet Tracer:</label>
                        <textarea id="packetTracerConfig" placeholder="D√©crivez votre approche..."></textarea>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-expert" onclick="validatePacketTracer()">
                            ‚úÖ Valider la Configuration
                        </button>
                        <button class="btn btn-intermediate" onclick="showSolution('packetTracerTips')">
                            üí° Conseils Packet Tracer
                        </button>
                    </div>
                    
                    <div id="packetTracerTips" class="solution">
                        <h4>‚úÖ Conseils pour Packet Tracer:</h4>
                        <ul>
                            <li>Utilisez l'interface CLI pour une configuration plus pr√©cise</li>
                            <li>Testez la connectivit√© avec la commande "ping"</li>
                            <li>V√©rifiez les tables de routage avec "show ip route"</li>
                            <li>Utilisez "show vlan brief" pour v√©rifier la configuration VLAN</li>
                            <li>Testez le DHCP avec "ipconfig /release" et "ipconfig /renew" sur les postes clients</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- NOUVELLE SECTION LEXIQUE -->
        <section id="glossary" class="tab-content">
            <h2>üìö Lexique des Termes R√©seau</h2>
            <span class="level-badge beginner">Documentation</span>

            <div class="glossary">
                <h3>üî§ Terminologie Fondamentale</h3>
                
                <div class="glossary-term">Adresse IP</div>
                <div class="glossary-definition">
                    Identifiant unique attribu√© √† chaque appareil sur un r√©seau utilisant le protocole IP.
                </div>

                <div class="glossary-term">Masque de Sous-R√©seau</div>
                <div class="glossary-definition">
                    Permet de distinguer la partie r√©seau de la partie h√¥te dans une adresse IP.
                </div>

                <div class="glossary-term">CIDR (Classless Inter-Domain Routing)</div>
                <div class="glossary-definition">
                    M√©thode d'allocation d'adresses IP et de routage Internet permettant une utilisation plus flexible de l'espace d'adressage.
                </div>

                <div class="glossary-term">VLAN (Virtual LAN)</div>
                <div class="glossary-definition">
                    R√©seau local virtuel permettant de segmenter un r√©seau physique en plusieurs r√©seaux logiques.
                </div>

                <div class="glossary-term">OSPF (Open Shortest Path First)</div>
                <div class="glossary-definition">
                    Protocole de routage link-state hi√©rarchique utilisant l'algorithme Dijkstra pour calculer les routes.
                </div>

                <div class="glossary-term">ACL (Access Control List)</div>
                <div class="glossary-definition">
                    Liste de r√®gles de contr√¥le d'acc√®s d√©finissant quels trafics sont autoris√©s ou refus√©s sur un r√©seau.
                </div>

                <div class="glossary-term">NAT (Network Address Translation)</div>
                <div class="glossary-definition">
                    Technique de translation d'adresses permettant √† plusieurs appareils de partager une seule adresse IP publique.
                </div>

                <div class="glossary-term">DHCP (Dynamic Host Configuration Protocol)</div>
                <div class="glossary-definition">
                    Protocole permettant aux appareils r√©seau d'obtenir automatiquement une configuration IP.
                </div>

                <div class="glossary-term">DNS (Domain Name System)</div>
                <div class="glossary-definition">
                    Syst√®me de noms de domaine qui traduit les noms de domaine en adresses IP.
                </div>

                <div class="glossary-term">QoS (Quality of Service)</div>
                <div class="glossary-definition">
                    M√©canisme permettant de prioriser certains types de trafic sur un r√©seau.
                </div>

                <div class="glossary-term">BGP (Border Gateway Protocol)</div>
                <div class="glossary-definition">
                    Protocole de routage externe utilis√© pour √©changer des informations de routage entre syst√®mes autonomes sur Internet.
                </div>

                <div class="glossary-term">MPLS (Multiprotocol Label Switching)</div>
                <div class="glossary-definition">
                    Technique de commutation de paquets qui utilise des √©tiquettes pour prendre des d√©cisions de transfert.
                </div>

                <div class="glossary-term">SD-WAN (Software-Defined Wide Area Network)</div>
                <div class="glossary-definition">
                    Approche logicielle pour g√©rer les r√©seaux √©tendus qui permet une gestion centralis√©e et une optimisation du trafic.
                </div>
            </div>

            <div class="concept-card">
                <h3>üìä Table des Masques CIDR Courants</h3>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th>Notation CIDR</th>
                            <th>Masque D√©cimal</th>
                            <th>Nombre d'H√¥tes</th>
                            <th>Utilisation Typique</th>
                        </tr>
                        <tr>
                            <td>/24</td>
                            <td>255.255.255.0</td>
                            <td>254</td>
                            <td>Petit r√©seau local</td>
                        </tr>
                        <tr>
                            <td>/25</td>
                            <td>255.255.255.128</td>
                            <td>126</td>
                            <td>Moyen sous-r√©seau</td>
                        </tr>
                        <tr>
                            <td>/26</td>
                            <td>255.255.255.192</td>
                            <td>62</td>
                            <td>Petit sous-r√©seau</td>
                        </tr>
                        <tr>
                            <td>/27</td>
                            <td>255.255.255.224</td>
                            <td>30</td>
                            <td>Tr√®s petit sous-r√©seau</td>
                        </tr>
                        <tr>
                            <td>/28</td>
                            <td>255.255.255.240</td>
                            <td>14</td>
                            <td>R√©seau tr√®s limit√©</td>
                        </tr>
                        <tr>
                            <td>/30</td>
                            <td>255.255.255.252</td>
                            <td>2</td>
                            <td>Liaison point-√†-point</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- NOUVELLE SECTION RESSOURCES -->
        <section id="resources" class="tab-content">
            <h2>üîó Ressources et R√©f√©rences</h2>
            <span class="level-badge beginner">Ressources</span>

            <div class="resource-links">
                <h3>üìö Ressources d'Apprentissage</h3>
                <ul>
                    <li><a href="https://www.cisco.com/c/en/us/training-events/training-certifications/certifications/associate/ccna.html" target="_blank">Certification CCNA - Cisco</a></li>
                    <li><a href="https://www.comptia.org/certifications/network" target="_blank">CompTIA Network+</a></li>
                    <li><a href="https://www.ietf.org/rfc.html" target="_blank">RFC (Request for Comments) - IETF</a></li>
                    <li><a href="https://www.packettracer.com/" target="_blank">Cisco Packet Tracer</a></li>
                    <li><a href="https://www.gns3.com/" target="_blank">GNS3 - Network Simulation</a></li>
                </ul>
            </div>

            <div class="resource-links">
                <h3>üõ†Ô∏è Outils Pratiques</h3>
                <ul>
                    <li><a href="https://www.wireshark.org/" target="_blank">Wireshark - Analyseur de protocoles</a></li>
                    <li><a href="https://nmap.org/" target="_blank">Nmap - Scanner de r√©seau</a></li>
                    <li><a href="https://www.subnet-calculator.com/" target="_blank">Calculateur de sous-r√©seaux</a></li>
                    <li><a href="https://www.putty.org/" target="_blank">PuTTY - Client SSH/Telnet</a></li>
                    <li><a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html" target="_blank">WinSCP - Client SFTP/SCP</a></li>
                </ul>
            </div>

            <div class="resource-links">
                <h3>üìñ Documentation Technique</h3>
                <ul>
                    <li><a href="https://www.cisco.com/c/en/us/support/docs/ip/routing-information-protocol-rip/13788-3.html" target="_blank">Documentation Cisco</a></li>
                    <li><a href="https://tools.ietf.org/html/rfc791" target="_blank">RFC 791 - Protocole IP</a></li>
                    <li><a href="https://tools.ietf.org/html/rfc793" target="_blank">RFC 793 - Protocole TCP</a></li>
                    <li><a href="https://tools.ietf.org/html/rfc768" target="_blank">RFC 768 - Protocole UDP</a></li>
                    <li><a href="https://tools.ietf.org/html/rfc826" target="_blank">RFC 826 - Protocole ARP</a></li>
                </ul>
            </div>

            <div class="resource-links">
                <h3>üéì Cours en Ligne</h3>
                <ul>
                    <li><a href="https://www.coursera.org/learn/computer-networking" target="_blank">Computer Networking - Coursera</a></li>
                    <li><a href="https://www.udemy.com/course/complete-networking-fundamentals-course-ccna-start/" target="_blank">Networking Fundamentals - Udemy</a></li>
                    <li><a href="https://www.youtube.com/c/NetworkDirection" target="_blank">Network Direction - YouTube</a></li>
                    <li><a href="https://www.youtube.com/c/JeremysITLab" target="_blank">Jeremy's IT Lab - YouTube</a></li>
                </ul>
            </div>

            <div class="resource-links">
                <h3>üì∞ Blogs et Communaut√©s</h3>
                <ul>
                    <li><a href="https://networklessons.com/" target="_blank">NetworkLessons</a></li>
                    <li><a href="https://www.packetlife.net/" target="_blank">Packet Life</a></li>
                    <li><a href="https://www.reddit.com/r/networking/" target="_blank">r/networking - Reddit</a></li>
                    <li><a href="https://www.reddit.com/r/ccna/" target="_blank">r/ccna - Reddit</a></li>
                    <li><a href="https://www.cisco.com/c/en/us/support/index.html" target="_blank">Support Cisco</a></li>
                </ul>
            </div>
        </section>
    </div>

    <script>
        // Variables globales pour le simulateur
        let networkNodes = [];
        let networkCables = [];
        let selectedNode = null;
        let isConnecting = false;
        let connectionStart = null;
        let currentProgress = 0;
        let subnetCount = 3;

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializeDragAndDrop();
            initializeWorkspace();
            updateProgress(0);
        });

        // Gestion des onglets
        function showTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Fonction pour mettre √† jour la progression
        function updateProgress(increment) {
            currentProgress = Math.min(currentProgress + increment, 100);
            document.getElementById('learningProgress').style.width = currentProgress + '%';
            
            if (currentProgress === 100) {
                setTimeout(() => {
                    alert('üéâ F√©licitations! Vous avez compl√©t√© la formation compl√®te r√©seaux!');
                }, 500);
            }
        }

        // Fonctions pour afficher/masquer les solutions et indices
        function showSolution(solutionId) {
            const solution = document.getElementById(solutionId);
            solution.style.display = solution.style.display === 'block' ? 'none' : 'block';
        }

        function showHint(hintId) {
            const hint = document.getElementById(hintId);
            hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
        }

        // =========================================================================
        // CODE DU SIMULATEUR
        // =========================================================================

        // Drag and Drop
        function initializeDragAndDrop() {
            const deviceItems = document.querySelectorAll('.device-item');
            deviceItems.forEach(item => {
                item.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', JSON.stringify({
                        type: this.getAttribute('data-type'),
                        ports: parseInt(this.getAttribute('data-ports'))
                    }));
                });
            });
        }

        function allowDrop(e) {
            e.preventDefault();
        }

        function drop(e) {
            e.preventDefault();
            const data = JSON.parse(e.dataTransfer.getData('text/plain'));
            const rect = e.target.getBoundingClientRect();
            const x = e.clientX - rect.left - 50;
            const y = e.clientY - rect.top - 50;
            
            createNode(data.type, data.ports, x, y);
        }

        // Cr√©ation des n≈ìuds
        function createNode(type, ports, x, y) {
            const nodeId = 'node_' + Date.now();
            const node = {
                id: nodeId,
                type: type,
                ports: ports,
                x: x,
                y: y,
                config: {
                    hostname: `${type}_${networkNodes.length + 1}`,
                    ip: '',
                    subnet: '255.255.255.0',
                    gateway: '',
                    interfaces: Array(ports).fill().map((_, i) => ({
                        id: i + 1,
                        ip: '',
                        subnet: '',
                        status: 'down'
                    }))
                },
                connections: []
            };

            networkNodes.push(node);
            renderNode(node);
            updateConfigPanel();
        }

        function renderNode(node) {
            const workspace = document.getElementById('workspace');
            const placeholder = workspace.querySelector('.workspace-placeholder');
            if (placeholder) {
                placeholder.style.display = 'none';
            }

            const nodeElement = document.createElement('div');
            nodeElement.className = `network-node ${node.type}`;
            nodeElement.id = node.id;
            nodeElement.style.left = node.x + 'px';
            nodeElement.style.top = node.y + 'px';
            nodeElement.innerHTML = `
                <div style="font-size: 24px;">${getDeviceIcon(node.type)}</div>
                <div style="font-size: 12px; font-weight: bold; margin-top: 5px;">${node.config.hostname}</div>
                ${node.config.ip ? `<div style="font-size: 10px; color: #666; margin-top: 2px;">${node.config.ip}</div>` : ''}
            `;

            // Ajouter les ports
            for (let i = 1; i <= node.ports; i++) {
                const port = document.createElement('div');
                port.className = 'connection-port';
                port.style.left = `${Math.cos((2 * Math.PI * i) / node.ports) * 35 + 35}px`;
                port.style.top = `${Math.sin((2 * Math.PI * i) / node.ports) * 35 + 35}px`;
                port.onclick = (e) => handlePortClick(node.id, i, e);
                nodeElement.appendChild(port);
            }

            // Gestion du d√©placement
            makeDraggable(nodeElement, node);
            
            // Gestion de la s√©lection
            nodeElement.onclick = (e) => {
                if (!e.target.classList.contains('connection-port')) {
                    selectNode(node.id);
                }
            };

            workspace.appendChild(nodeElement);
        }

        function makeDraggable(element, node) {
            let isDragging = false;
            let offsetX, offsetY;

            element.onmousedown = function(e) {
                if (e.target.classList.contains('connection-port')) return;
                
                isDragging = true;
                offsetX = e.clientX - element.getBoundingClientRect().left;
                offsetY = e.clientY - element.getBoundingClientRect().top;
                
                document.onmousemove = function(e) {
                    if (!isDragging) return;
                    
                    const workspace = document.getElementById('workspace');
                    const rect = workspace.getBoundingClientRect();
                    
                    let x = e.clientX - rect.left - offsetX;
                    let y = e.clientY - rect.top - offsetY;
                    
                    // Limites
                    x = Math.max(0, Math.min(x, rect.width - 100));
                    y = Math.max(0, Math.min(y, rect.height - 100));
                    
                    element.style.left = x + 'px';
                    element.style.top = y + 'px';
                    
                    // Mettre √† jour la position dans le mod√®le
                    node.x = x;
                    node.y = y;
                    
                    // Mettre √† jour les c√¢bles
                    updateCables();
                };
                
                document.onmouseup = function() {
                    isDragging = false;
                    document.onmousemove = null;
                    document.onmouseup = null;
                };
            };
        }

        // Gestion des connexions
        function handlePortClick(nodeId, portId, e) {
            e.stopPropagation();
            
            if (!isConnecting) {
                // D√©marrer une nouvelle connexion
                isConnecting = true;
                connectionStart = { nodeId, portId };
                e.target.style.background = '#ff9800';
            } else {
                // Terminer la connexion
                if (connectionStart.nodeId !== nodeId) {
                    createCable(connectionStart.nodeId, connectionStart.portId, nodeId, portId);
                }
                resetConnectionMode();
            }
        }

        function resetConnectionMode() {
            isConnecting = false;
            if (connectionStart) {
                const startPort = document.querySelector(`#${connectionStart.nodeId} .connection-port`);
                if (startPort) {
                    startPort.style.background = '#4caf50';
                }
            }
            connectionStart = null;
        }

        function createCable(fromNodeId, fromPortId, toNodeId, toPortId) {
            const cableId = `cable_${fromNodeId}_${fromPortId}_${toNodeId}_${toPortId}`;
            
            // V√©rifier si la connexion existe d√©j√†
            const existingCable = networkCables.find(c => 
                (c.fromNode === fromNodeId && c.fromPort === fromPortId && c.toNode === toNodeId && c.toPort === toPortId) ||
                (c.fromNode === toNodeId && c.fromPort === toPortId && c.toNode === fromNodeId && c.toPort === fromPortId)
            );
            
            if (existingCable) {
                alert('‚ùå Cette connexion existe d√©j√†!');
                return;
            }

            const cable = {
                id: cableId,
                fromNode: fromNodeId,
                fromPort: fromPortId,
                toNode: toNodeId,
                toPort: toPortId
            };

            networkCables.push(cable);
            renderCable(cable);
            
            // Mettre √† jour les connexions des n≈ìuds
            updateNodeConnections();
        }

        function renderCable(cable) {
            const workspace = document.getElementById('workspace');
            const fromNode = document.getElementById(cable.fromNode);
            const toNode = document.getElementById(cable.toNode);
            
            if (!fromNode || !toNode) return;

            const fromPort = fromNode.querySelector(`.connection-port`);
            const toPort = toNode.querySelector(`.connection-port`);
            
            if (!fromPort || !toPort) return;

            const fromRect = fromPort.getBoundingClientRect();
            const toRect = toPort.getBoundingClientRect();
            const workspaceRect = workspace.getBoundingClientRect();

            const x1 = fromRect.left + fromRect.width / 2 - workspaceRect.left;
            const y1 = fromRect.top + fromRect.height / 2 - workspaceRect.top;
            const x2 = toRect.left + toRect.width / 2 - workspaceRect.left;
            const y2 = toRect.top + toRect.height / 2 - workspaceRect.top;

            const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;

            const cableElement = document.createElement('div');
            cableElement.className = 'cable';
            cableElement.id = cable.id;
            cableElement.style.width = length + 'px';
            cableElement.style.left = x1 + 'px';
            cableElement.style.top = y1 + 'px';
            cableElement.style.transform = `rotate(${angle}deg)`;

            workspace.appendChild(cableElement);
        }

        function updateCables() {
            // Supprimer tous les c√¢bles
            document.querySelectorAll('.cable').forEach(cable => cable.remove());
            
            // Recr√©er les c√¢bles
            networkCables.forEach(cable => renderCable(cable));
        }

        // Configuration des n≈ìuds
        function selectNode(nodeId) {
            selectedNode = networkNodes.find(node => node.id === nodeId);
            updateConfigPanel();
        }

        function updateConfigPanel() {
            const configContent = document.getElementById('config-content');
            
            if (!selectedNode) {
                configContent.innerHTML = '<p>S√©lectionnez un √©quipement pour le configurer</p>';
                return;
            }

            configContent.innerHTML = `
                <div class="form-group">
                    <label>Nom de l'√©quipement</label>
                    <input type="text" id="hostname" value="${selectedNode.config.hostname}" onchange="updateNodeConfig('hostname', this.value)">
                </div>
                
                <div class="form-group">
                    <label>Adresse IP</label>
                    <input type="text" id="ip" value="${selectedNode.config.ip}" placeholder="192.168.1.1" onchange="updateNodeConfig('ip', this.value)">
                </div>
                
                <div class="form-group">
                    <label>Masque de sous-r√©seau</label>
                    <input type="text" id="subnet" value="${selectedNode.config.subnet}" onchange="updateNodeConfig('subnet', this.value)">
                </div>
                
                <div class="form-group">
                    <label>Passerelle par d√©faut</label>
                    <input type="text" id="gateway" value="${selectedNode.config.gateway}" placeholder="192.168.1.254" onchange="updateNodeConfig('gateway', this.value)">
                </div>
                
                <h5>Interfaces</h5>
                <div class="interface-list" id="interfaceList">
                    ${selectedNode.config.interfaces.map((iface, index) => `
                        <div class="interface-item" onclick="selectInterface(${index})">
                            Interface ${iface.id} - ${iface.ip || 'Non configur√©e'}
                        </div>
                    `).join('')}
                </div>
                
                <div id="interfaceConfig" style="display: none;">
                    <div class="form-group">
                        <label>IP de l'interface</label>
                        <input type="text" id="interfaceIp" onchange="updateInterfaceConfig('ip', this.value)">
                    </div>
                    <div class="form-group">
                        <label>Statut</label>
                        <select id="interfaceStatus" onchange="updateInterfaceConfig('status', this.value)">
                            <option value="up">UP</option>
                            <option value="down">DOWN</option>
                        </select>
                    </div>
                </div>
            `;

            // Mettre √† jour l'affichage du n≈ìud
            updateNodeDisplay();
        }

        function updateNodeConfig(key, value) {
            if (selectedNode) {
                selectedNode.config[key] = value;
                updateNodeDisplay();
            }
        }

        function updateNodeDisplay() {
            if (selectedNode) {
                const nodeElement = document.getElementById(selectedNode.id);
                if (nodeElement) {
                    nodeElement.innerHTML = `
                        <div style="font-size: 24px;">${getDeviceIcon(selectedNode.type)}</div>
                        <div style="font-size: 12px; font-weight: bold; margin-top: 5px;">${selectedNode.config.hostname}</div>
                        ${selectedNode.config.ip ? `<div style="font-size: 10px; color: #666; margin-top: 2px;">${selectedNode.config.ip}</div>` : ''}
                    `;
                    
                    // Re-cr√©er les ports
                    for (let i = 1; i <= selectedNode.ports; i++) {
                        const port = document.createElement('div');
                        port.className = 'connection-port';
                        port.style.left = `${Math.cos((2 * Math.PI * i) / selectedNode.ports) * 35 + 35}px`;
                        port.style.top = `${Math.sin((2 * Math.PI * i) / selectedNode.ports) * 35 + 35}px`;
                        port.onclick = (e) => handlePortClick(selectedNode.id, i, e);
                        nodeElement.appendChild(port);
                    }
                }
            }
        }

        function selectInterface(index) {
            const interfaceItems = document.querySelectorAll('.interface-item');
            interfaceItems.forEach(item => item.classList.remove('active'));
            interfaceItems[index].classList.add('active');
            
            const interfaceConfig = document.getElementById('interfaceConfig');
            interfaceConfig.style.display = 'block';
            
            const iface = selectedNode.config.interfaces[index];
            document.getElementById('interfaceIp').value = iface.ip || '';
            document.getElementById('interfaceStatus').value = iface.status;
            
            selectedNode.selectedInterface = index;
        }

        function updateInterfaceConfig(key, value) {
            if (selectedNode && selectedNode.selectedInterface !== undefined) {
                selectedNode.config.interfaces[selectedNode.selectedInterface][key] = value;
            }
        }

        // Fonctions utilitaires
        function getDeviceIcon(type) {
            const icons = {
                'router': 'üö¶',
                'switch': 'üñß',
                'pc': 'üíª',
                'server': 'üñ•Ô∏è'
            };
            return icons[type] || 'üîß';
        }

        // Fonctions de gestion du workspace
        function clearWorkspace() {
            if (confirm('√ätes-vous s√ªr de vouloir effacer tout le workspace?')) {
                networkNodes = [];
                networkCables = [];
                selectedNode = null;
                document.getElementById('workspace').innerHTML = '<div class="workspace-placeholder"><h3>üèóÔ∏è Zone de Construction</h3><p>Glissez-d√©posez des √©quipements ici</p></div>';
                document.getElementById('config-content').innerHTML = '<p>S√©lectionnez un √©quipement pour le configurer</p>';
                document.getElementById('simulationOutput').style.display = 'none';
            }
        }

        function autoConnect() {
            if (networkNodes.length < 2) {
                alert('‚ùå Ajoutez au moins 2 √©quipements!');
                return;
            }

            // Logique de connexion automatique simple
            const routers = networkNodes.filter(n => n.type === 'router');
            const switches = networkNodes.filter(n => n.type === 'switch');
            const endDevices = networkNodes.filter(n => n.type === 'pc' || n.type === 'server');

            // Connecter les √©quipements finaux aux switches
            endDevices.forEach(device => {
                if (switches.length > 0) {
                    const switchNode = switches[0];
                    createCable(device.id, 1, switchNode.id, 1);
                }
            });

            // Connecter les switches aux routeurs
            switches.forEach(switchNode => {
                routers.forEach(router => {
                    createCable(switchNode.id, 2, router.id, 1);
                });
            });

            alert('‚úÖ Connexions automatiques cr√©√©es!');
        }

        function testConnectivity() {
            const output = document.getElementById('simulationOutput');
            output.style.display = 'block';
            output.innerHTML = 'üß™ Test de connectivit√©...<br>';

            setTimeout(() => {
                const configuredNodes = networkNodes.filter(node => node.config.ip);
                
                if (configuredNodes.length === 0) {
                    output.innerHTML += '‚ùå Aucun √©quipement configur√© avec une IP<br>';
                    return;
                }

                output.innerHTML += `‚úÖ ${configuredNodes.length} √©quipement(s) configur√©(s)<br>`;
                
                configuredNodes.forEach(node => {
                    output.innerHTML += `üì° ${node.config.hostname} (${node.config.ip}) - EN LIGNE<br>`;
                });

                if (networkCables.length > 0) {
                    output.innerHTML += `üîó ${networkCables.length} connexion(s) physique(s) √©tablie(s)<br>`;
                }
            }, 1000);
        }

        function simulateNetwork() {
            const output = document.getElementById('simulationOutput');
            output.style.display = 'block';
            output.innerHTML = 'üöÄ Simulation r√©seau en cours...<br>';

            setTimeout(() => {
                output.innerHTML += '‚úÖ Initialisation des √©quipements...<br>';
                
                networkNodes.forEach(node => {
                    output.innerHTML += `‚ö° ${node.config.hostname} - D√âMARR√â<br>`;
                });

                output.innerHTML += 'üåê Test des communications...<br>';

                // Simulation simple de communication
                const configuredNodes = networkNodes.filter(node => node.config.ip);
                configuredNodes.forEach((node, i) => {
                    if (i < configuredNodes.length - 1) {
                        const nextNode = configuredNodes[i + 1];
                        output.innerHTML += `üîÑ ${node.config.hostname} ‚Üí ${nextNode.config.hostname}: OK<br>`;
                    }
                });

                output.innerHTML += 'üéØ Simulation termin√©e avec succ√®s!<br>';
            }, 1500);
        }

        // Topologies pr√©d√©finies
        function loadSimpleTopology() {
            clearWorkspace();
            
            setTimeout(() => {
                createNode('router', 4, 200, 100);
                createNode('switch', 8, 200, 250);
                createNode('pc', 1, 100, 400);
                createNode('pc', 1, 300, 400);
                
                setTimeout(() => {
                    // Configurer automatiquement
                    const router = networkNodes.find(n => n.type === 'router');
                    if (router) {
                        selectedNode = router;
                        updateNodeConfig('hostname', 'Routeur-Principal');
                        updateNodeConfig('ip', '192.168.1.1');
                        updateNodeConfig('gateway', '192.168.1.1');
                    }
                    
                    autoConnect();
                }, 500);
            }, 100);
        }

        function loadOfficeTopology() {
            clearWorkspace();
            
            setTimeout(() => {
                createNode('router', 4, 300, 100);
                createNode('switch', 24, 300, 250);
                createNode('switch', 24, 150, 400);
                createNode('switch', 24, 450, 400);
                createNode('pc', 1, 100, 550);
                createNode('pc', 1, 200, 550);
                createNode('pc', 1, 400, 550);
                createNode('pc', 1, 500, 550);
                createNode('server', 2, 300, 550);
                
                setTimeout(() => {
                    autoConnect();
                }, 500);
            }, 100);
        }

        function loadDatacenterTopology() {
            clearWorkspace();
            
            setTimeout(() => {
                createNode('router', 8, 400, 100);
                createNode('switch', 48, 400, 250);
                createNode('switch', 48, 200, 400);
                createNode('switch', 48, 600, 400);
                createNode('server', 4, 100, 550);
                createNode('server', 4, 300, 550);
                createNode('server', 4, 500, 550);
                createNode('server', 4, 700, 550);
                
                setTimeout(() => {
                    autoConnect();
                }, 500);
            }, 100);
        }

        // Sauvegarde/Chargement
        function saveTopology() {
            const topology = {
                nodes: networkNodes,
                cables: networkCables,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('networkTopology', JSON.stringify(topology));
            alert('üíæ Topologie sauvegard√©e!');
        }

        function loadTopology() {
            const saved = localStorage.getItem('networkTopology');
            if (saved) {
                try {
                    const topology = JSON.parse(saved);
                    clearWorkspace();
                    
                    setTimeout(() => {
                        // Recr√©er les n≈ìuds
                        topology.nodes.forEach(node => {
                            createNode(node.type, node.ports, node.x, node.y);
                        });
                        
                        // Restaurer les configurations
                        setTimeout(() => {
                            topology.nodes.forEach((savedNode, index) => {
                                if (networkNodes[index]) {
                                    networkNodes[index].config = savedNode.config;
                                    updateNodeDisplay();
                                }
                            });
                            
                            // Recr√©er les c√¢bles
                            setTimeout(() => {
                                topology.cables.forEach(cable => {
                                    createCable(cable.fromNode, cable.fromPort, cable.toNode, cable.toPort);
                                });
                                alert('üìÇ Topologie charg√©e!');
                            }, 500);
                        }, 500);
                    }, 100);
                    
                } catch (error) {
                    alert('‚ùå Erreur lors du chargement: ' + error.message);
                }
            } else {
                alert('‚ùå Aucune topologie sauvegard√©e trouv√©e.');
            }
        }

        // Initialisation du workspace
        function initializeWorkspace() {
            // Ajouter un √©couteur pour annuler les connexions avec √âchap
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    resetConnectionMode();
                }
            });
        }

        // Mise √† jour des connexions des n≈ìuds
        function updateNodeConnections() {
            networkNodes.forEach(node => {
                node.connections = networkCables.filter(cable => 
                    cable.fromNode === node.id || cable.toNode === node.id
                );
            });
        }

        // =========================================================================
        // FONCTIONS POUR LES EXERCICES DE FORMATION
        // =========================================================================

        // V√©rification des conversions binaires
        function checkBinaryConversion() {
            const binaryInput = document.getElementById('binaryToDecimal').value;
            const decimalInput = document.getElementById('decimalToBinary').value;
            
            if (binaryInput === '192.168.1.1' && decimalInput === '00001010.00010100.00011110.00101000') {
                alert('‚úÖ Excellent! Les conversions sont correctes!');
                updateProgress(5);
            } else {
                alert('‚ùå Certaines conversions sont incorrectes. Consultez la m√©thode.');
            }
        }

        // V√©rification de l'analyse r√©seau
        function checkNetworkAnalysis() {
            const inputs = ['networkAddress', 'firstUsable', 'lastUsable', 'broadcastAddress'];
            const expected = ['192.168.1.0', '192.168.1.1', '192.168.1.254', '192.168.1.255'];
            
            let correct = 0;
            inputs.forEach((id, index) => {
                const input = document.getElementById(id);
                if (input.value === expected[index]) {
                    correct++;
                    input.style.borderColor = 'green';
                } else {
                    input.style.borderColor = 'red';
                }
            });
            
            if (correct === 4) {
                alert('‚úÖ Parfait! Analyse r√©seau correcte!');
                updateProgress(5);
            } else {
                alert(`‚ùå ${correct}/4 corrects. Consultez l'explication.`);
            }
        }

        // V√©rification des classes IP
        function checkIPClasses() {
            const class1 = document.getElementById('class1').value;
            const class2 = document.getElementById('class2').value;
            const class3 = document.getElementById('class3').value;
            
            if (class1 === 'A' && class2 === 'B' && class3 === 'C') {
                alert('‚úÖ Excellent! Classes IP correctes!');
                updateProgress(5);
            } else {
                alert('‚ùå Certaines classes sont incorrectes. Rappel: Classe A (1-126), B (128-191), C (192-223)');
            }
        }

        // V√©rification de l'exercice subnetting
        function checkSubnetExercise() {
            const siteA = document.getElementById('siteA').value;
            const siteB = document.getElementById('siteB').value;
            const siteC = document.getElementById('siteC').value;
            
            // Solutions attendues
            const solutions = [
                '172.16.0.0/23',
                '172.16.2.0/24',
                '172.16.3.0/26'
            ];
            
            const userInputs = [siteA, siteB, siteC];
            let correct = 0;
            
            userInputs.forEach((input, index) => {
                if (input.includes(solutions[index])) {
                    correct++;
                }
            });
            
            if (correct === 3) {
                alert('‚úÖ Excellent! Subnetting parfait!');
                updateProgress(10);
            } else {
                alert(`‚ùå ${correct}/3 corrects. Utilisez l'aide m√©moire.`);
            }
        }

        // Calculateur VLSM
        function calculateVLSM() {
            const network = document.getElementById('vlsmNetwork').value;
            const mask = parseInt(document.getElementById('vlsmMask').value);
            
            // R√©cup√©rer les sous-r√©seaux
            const subnets = [];
            for (let i = 1; i <= subnetCount; i++) {
                const name = document.getElementById(`subnetName${i}`).value;
                const hosts = parseInt(document.getElementById(`subnetHosts${i}`).value);
                if (name && hosts) {
                    subnets.push({ name, hosts });
                }
            }
            
            // Trier par taille d√©croissante (VLSM)
            subnets.sort((a, b) => b.hosts - a.hosts);
            
            let currentIP = ipToInt(network);
            let html = '<h4>üìä Plan d\'Adressage VLSM:</h4><div class="table-responsive"><table><tr><th>Sous-r√©seau</th><th>H√¥tes Demand√©s</th><th>Adresse R√©seau</th><th>Masque</th><th>H√¥tes Disponibles</th><th>Plage Utilisable</th></tr>';
            
            subnets.forEach(subnet => {
                const requiredSize = subnet.hosts + 2; // +2 pour r√©seau et broadcast
                const hostBits = Math.ceil(Math.log2(requiredSize));
                const newPrefix = 32 - hostBits;
                const subnetSize = Math.pow(2, hostBits);
                const usableHosts = subnetSize - 2;
                
                const networkAddr = intToIp(currentIP);
                const firstUsable = intToIp(currentIP + 1);
                const lastUsable = intToIp(currentIP + subnetSize - 2);
                const broadcast = intToIp(currentIP + subnetSize - 1);
                
                html += `<tr>
                    <td>${subnet.name}</td>
                    <td>${subnet.hosts}</td>
                    <td>${networkAddr}</td>
                    <td>/${newPrefix}</td>
                    <td>${usableHosts}</td>
                    <td>${firstUsable} - ${lastUsable}</td>
                </tr>`;
                
                currentIP += subnetSize;
            });
            
            html += '</table></div>';
            document.getElementById('vlsmResults').innerHTML = html;
            updateProgress(5);
        }

        // Fonctions utilitaires IP
        function ipToInt(ip) {
            return ip.split('.').reduce((acc, octet) => (acc << 8) + parseInt(octet), 0) >>> 0;
        }

        function intToIp(int) {
            return [(int >>> 24) & 255, (int >>> 16) & 255, (int >>> 8) & 255, int & 255].join('.');
        }

        // =========================================================================
        // FONCTIONS POUR LA SECTION OSI/TCP-IP
        // =========================================================================

        function analyzeWireshark() {
            const capture = document.getElementById('wiresharkHttp').value;
            const analysis = document.getElementById('headersAnalysis').value;
            
            if (capture.length > 50 && analysis.length > 30) {
                alert('‚úÖ Analyse Wireshark valid√©e! Bon travail d\'investigation.');
                updateProgress(8);
            } else {
                alert('‚ùå Veuillez compl√©ter les deux champs avec plus de d√©tails.');
            }
        }

        function validateTroubleshooting() {
            const physical = document.getElementById('physicalDiag').value;
            const link = document.getElementById('linkDiag').value;
            const network = document.getElementById('networkDiag').value;
            const transport = document.getElementById('transportDiag').value;
            
            let score = 0;
            const solutions = ['cable', 'mac', 'acl', 'firewall'];
            const userInputs = [physical, link, network, transport];
            
            userInputs.forEach((input, index) => {
                if (input === solutions[index]) score++;
            });
            
            if (score === 4) {
                alert('‚úÖ Diagnostic parfait! Approche m√©thodique excellente.');
                updateProgress(10);
            } else {
                alert(`‚ùå ${score}/4 corrects. Revoyez l\'approche par couches.`);
            }
        }

        // Fonction pour visualiser l'encapsulation
        function visualizeEncapsulation() {
            const html = `
                <div class="encapsulation-visual">
                    <h4>üì¶ Processus d'Encapsulation</h4>
                    <div class="encapsulation-layer">
                        <div class="layer-header">Application (HTTP)</div>
                        <div class="layer-data">GET /index.html HTTP/1.1</div>
                    </div>
                    <div class="encapsulation-layer">
                        <div class="layer-header">‚Üì Transport (TCP Header)</div>
                        <div class="layer-data">[TCP] GET /index.html HTTP/1.1</div>
                    </div>
                    <div class="encapsulation-layer">
                        <div class="layer-header">‚Üì R√©seau (IP Header)</div>
                        <div class="layer-data">[IP][TCP] GET /index.html HTTP/1.1</div>
                    </div>
                    <div class="encapsulation-layer">
                        <div class="layer-header">‚Üì Liaison (Ethernet Header)</div>
                        <div class="layer-data">[ETH][IP][TCP] GET /index.html HTTP/1.1 [FCS]</div>
                    </div>
                    <div class="encapsulation-layer">
                        <div class="layer-header">‚Üì Physique (Bits)</div>
                        <div class="layer-data">10101001101011010101001010100101...</div>
                    </div>
                </div>
            `;
            document.getElementById('vlsmResults').innerHTML = html;
        }

        // Autres fonctions pour les exercices...
        function checkCIDRSubnetting() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function checkRoutingTable() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function generateOSPFConfig() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateACL() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function submitArchitecture() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function generateAuditReport() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateNetworkConfig() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateRoutingDesign() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateDMZRule() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateSecurityAnalysis() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validatePacketTracer() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function validateSimulatorExercise() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }

        function shareTroubleshooting() {
            // Impl√©mentation simplifi√©e
            alert('‚úÖ Fonctionnalit√© en d√©veloppement!');
        }
    </script>
</body>
</html>
